<!doctype html>
{{> license}}
<html>

<head>
    {{> meta title='Red5 Pro HTML SDK Testbed'}}
    <script src="script/url-params.js"></script>
    <script src="script/testbed-config.js"></script>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/testbed.css">
    <link rel='stylesheet'
        href='//fonts.googleapis.com/css?family=Lato%3A100%2C200%2C300%2C400%2C500%2C600%2C700%2C800%2C900%2C100i%2C200i%2C300i%2C400i%2C500i%2C600i%2C700i%2C800i%2C900i&#038;subset=latin&#038;ver=5.2.3'
        type='text/css' media='all' />
</head>

<body>
    {{> top-bar }}
    <div id="app">
        <div id="back-link-container" style="text-align: left;">
          <p class="back-link">
            <img src="images/red-arrow-right.svg">
            <a href="index.html">Settings</a>
          <p class="version-field">Testbed Version: {{ version }}</p>
        </div>
        <div id="settings-container">
            <h1 class="centered">Red5 Pro HTML Sample Mixer Composition Pages</h1>
            <hr class="paddedHR" />
            <ul id="test-list">
                <li class="top-level-listing"><a href="testbed-menu.html">Non-Stream Manager Tests&nbsp;&nbsp;<img src="images/black-arrow.svg"></a></li>
                <li><a href="sample-mixer-pages/2x2/">2x2 Grid Layout</a></li>
                <li><a href="sample-mixer-pages/3x3">3x3 Grid Layout</a></li>
                <li><a href="sample-mixer-pages/7x7">7x7 Grid Layout</a></li>
                <li><a href="sample-mixer-pages/nxn">Dynamic NxN Grid Layout</a></li>
                <li><a href="sample-mixer-pages/conference">Conference Layout</a></li>
            </ul>
        </div>
        <script>
            var configuration = (function () {
                var conf = sessionStorage.getItem('r5proTestBed');
                try {
                    return JSON.parse(conf);
                }
                catch (e) {
                    console.error('Could not read testbed configuration from sessionstorage: ' + e.message);
                }
                return {}
            })();
            const refs = document.getElementsByTagName('a')
            for (let ref of refs) {
                if (ref.href.indexOf('sample-mixer-pages') >= 0) {
                    ref.href = `${ref.href}?ws=${configuration.mixerBackendSocketField}`
                }
            }
        </script>
        {{> footer}}
</body>

</html>
