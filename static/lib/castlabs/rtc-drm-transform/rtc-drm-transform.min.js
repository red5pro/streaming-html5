function e(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{c(s.next(e))}catch(e){i(e)}}function a(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((s=s.apply(e,t||[])).next())}))}function t(e,n){const s=m();return(t=function(e,t){return s[e-=276]})(e,n)}const n=t;var s,r;!function(){const e=t,n=m();for(;;)try{if(398172===-parseInt(e(290))/1*(parseInt(e(284))/2)+parseInt(e(289))/3+parseInt(e(299))/4*(-parseInt(e(291))/5)+parseInt(e(295))/6*(-parseInt(e(276))/7)+parseInt(e(278))/8*(parseInt(e(283))/9)+parseInt(e(287))/10*(parseInt(e(279))/11)+parseInt(e(286))/12*(-parseInt(e(281))/13))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const i=navigator&&navigator[n(280)]||"",o=navigator&&navigator[n(298)]||"",a=!!(null===(s=null===RTCRtpSender||void 0===RTCRtpSender?void 0:RTCRtpSender.prototype)||void 0===s?void 0:s[n(277)]),c=!!(null===window||void 0===window?void 0:window[n(288)]),u=i[n(292)](n(285)),d=!u&&o[n(292)]("Apple"),h=!u&&!d&&i[n(292)](n(296)),l=!u&&!d&&!h&&i[n(292)](n(293)),f=(null===(r=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===r?void 0:r[n(297)])||(null===navigator||void 0===navigator?void 0:navigator[n(297)])||"",p={supportsEncodedStreams:a,supportsRtpScriptTransform:c,isFirefox:u,isSafari:d,isEdge:h,isChrome:l,platform:f,isWindows:f===n(282)||f===n(294)};function m(){const e=["Firefox","783168bBMimo","350bldkpo","RTCRtpScriptTransform","1302690mithTX","2694ZBDzLX","26370bIYNjx","includes","Chrome","Win32","18sTNxea","Edg","platform","vendor","164bJEsyD","1250473ausZfz","createEncodedStreams","671584CZoTZt","226479WDmvPr","userAgent","65qJMbtC","Windows","81MxtOJv","322CFlJUl"];return(m=function(){return e})()}const y=w;!function(){const e=w,t=A();for(;;)try{if(560681===-parseInt(e(412))/1+-parseInt(e(415))/2+parseInt(e(418))/3+-parseInt(e(399))/4+parseInt(e(407))/5+-parseInt(e(410))/6+-parseInt(e(397))/7*(-parseInt(e(394))/8))break;t.push(t.shift())}catch(e){t.push(t.shift())}}();class g{constructor(e){this[w(391)]=e}[y(408)](...e){const t=y;b.logLevel>=4&&console[t(408)](this.tag,...e)}info(...e){const t=y;b.logLevel>=3&&console[t(413)](this.tag,...e)}[y(404)](...e){const t=y;b[t(401)]>=2&&console[t(404)](this[t(391)],...e)}[y(390)](...e){const t=y;b[t(401)]>=1&&console[t(390)](this.tag,...e)}}function w(e,t){const n=A();return(w=function(e,t){return n[e-=390]})(e,t)}function v(e){return new g(e)}const b={logLevel:3,mediaDumps:{video:{in:{durationMs:0,delimited:!0},out:{durationMs:0}},audio:{in:{durationMs:0},out:{durationMs:0}}}};function S(){const e=y;return(new Date)[e(405)]().slice(11,-1)}function I(e,t){const n=y,s=new Uint8Array((0|e[n(406)])+(0|t[n(406)]));return s[n(395)](e,0),s[n(395)](t,0|e.byteLength),s}class E{constructor(e,t,n){const s=y;this[s(393)]=null,this[s(400)]=-1,this[s(411)]=-1,this[s(403)]=e,this.containerFileExt=t,this.targetDurationMs=n,n>0&&(this[s(393)]=new Uint8Array(0))}[y(402)](e,t){const n=y;if(!this[n(393)])return!1;if(this[n(393)]=I(this.mediaBuffer,e),void 0!==t)if(-1===this[n(400)])this[n(400)]=t,this[n(411)]=t+this[n(416)];else if(t>=this[n(411)]){const e=(new Date)[n(405)]().substring(0,19).replace(/:/g,"-"),t=this[n(403)]+"-"+e+"."+this[n(398)];return function(e,t,n="application/octet-stream"){const s=y,r=document[s(414)]("a"),i=new Blob([e],{type:n});r.href=URL[s(417)](i),r[s(396)]=t,r[s(409)](),URL.revokeObjectURL(r[s(392)])}(this[n(393)],t),this[n(393)]=null,!1}return!0}}function A(){const e=["tag","href","mediaBuffer","8KKdXWv","set","download","17287081qpwhnu","containerFileExt","351548rvvHha","startTimestampMs","logLevel","append","mediaType","warn","toISOString","byteLength","4108985GTiVIk","debug","click","6298242FtGQEl","endTimestampMs","930374vfufgg","info","createElement","1454366nkJDsE","targetDurationMs","createObjectURL","193356RQEOzL","error"];return(A=function(){return e})()}const U=D;var k,T;function D(e,t){const n=R();return(D=function(e,t){return n[e-=172]})(e,t)}!function(){const e=D,t=R();for(;;)try{if(979357===-parseInt(e(208))/1+parseInt(e(189))/2*(parseInt(e(201))/3)+-parseInt(e(200))/4*(parseInt(e(205))/5)+-parseInt(e(179))/6*(-parseInt(e(180))/7)+-parseInt(e(190))/8*(parseInt(e(173))/9)+parseInt(e(186))/10*(-parseInt(e(184))/11)+parseInt(e(203))/12)break;t.push(t.shift())}catch(e){t.push(t.shift())}}();function R(){const e=["1519Svqcce","buffer","seq_profile","chroma_subsampling_x","5750987ROYMiI","chroma_subsampling_y","10iNxSyr","bytepos","parseColorConfig","14DMubUH","96vOPoMY","width","seq_level_idx","high_bitdepth","leb128","chroma_sample_position","bits","cntbits","twelve_bit","height","4tuaHBl","766626nnynqO","monochrome","17971164SDWBuI","push","3666090ZwhoUP","nbits","bitpos","6158YgPuXR","seq_tier","bitsleft","1004157DuNgSM","bit_depth","length","byteLength","uvlc","load","8130ogqzGo"];return(R=function(){return e})()}class x{constructor(e){const t=D;this[t(192)]=[],this[t(209)]=[],this[t(193)]=0,this[t(198)]=0,this.bit_depth=8,this[t(202)]=0,this[t(183)]=1,this[t(185)]=1,this[t(195)]=0;const n=new M(e);(function(e){const t=D;e.u(1),e.u(4);const n=e.u(1),s=e.u(1);e.u(1),n&&e.u(8),s&&e[t(194)]()})(n),this[t(182)]=n.u(3),n.u(1);const s=n.u(1);if(s)this.seq_level_idx.push(n.u(5)),this.seq_tier.push(0);else{let e=0,s=1;n.u(1)&&(n.u(32),n.u(32),n.u(1),n.u(1)&&n[t(177)](),e=n.u(1),e&&(s=n.u(5)+1,n.u(32),n.u(5),n.u(5)));const i=n.u(1),o=n.u(5)+1;this[t(192)]=[];for(var r=0;r<o;r++){n.u(12);const r=n.u(5);if(this[t(192)].push(r),this[t(209)][t(204)](r>7?n.u(1):0),e){n.u(1)&&(n.u(s),n.u(s),n.u(1))}i&&n.u(1)&&n.u(4)}}const i=n.u(4)+1,o=n.u(4)+1;if(this[t(191)]=n.u(i)+1,this[t(199)]=n.u(o)+1,!s&&n.u(1)&&(n.u(4),n.u(3)),n.u(1),n.u(1),n.u(1),!s){n.u(1),n.u(1),n.u(1),n.u(1);const e=n.u(1);let t;e&&(n.u(1),n.u(1)),t=n.u(1)?function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(k,k,"f",T):n.u(1),t>0&&(n.u(1)||n.u(1)),e&&n.u(3)}n.u(1),n.u(1),n.u(1),this[t(188)](n)}[U(188)](e){const t=U;this[t(193)]=e.u(1),2===this[t(182)]&&this.high_bitdepth?(this.twelve_bit=e.u(1),this.bit_depth=this[t(198)]?12:10):this[t(182)]<=2&&(this[t(174)]=this[t(193)]?10:8),this[t(202)]=1===this.seq_profile?0:e.u(1);let n=2,s=2,r=2;if(e.u(1)&&(n=e.u(8),s=e.u(8),r=e.u(8)),this[t(202)])return e.u(1),this[t(183)]=1,this[t(185)]=1,void(this.chroma_sample_position=0);1===n&&13===s&&0===r?(this[t(183)]=0,this[t(185)]=0):(e.u(1),0===this[t(182)]?(this[t(183)]=1,this[t(185)]=1):1===this[t(182)]?(this[t(183)]=0,this.chroma_subsampling_y=0):12===this[t(174)]?(this.chroma_subsampling_x=e.u(1),this[t(185)]=this[t(183)]?e.u(1):0):(this.chroma_subsampling_x=1,this[t(185)]=0),this[t(183)]&&this[t(185)]&&(this[t(195)]=e.u(2))),e.u(1)}}k=x,T={value:2};class M{constructor(e){const t=U;this.buffer=e,this.length=e[t(176)],this[t(187)]=0,this[t(196)]=0,this[t(206)]=0}load(){const e=U;for(;this.nbits<=24&&this[e(187)]<this[e(175)];){const t=this[e(181)][this[e(187)]++];this[e(196)]|=t<<24-this[e(206)],this.nbits+=8}}static[U(197)](e){let t=1;for(;1<<t<e;)t++;return t}[U(207)](){const e=U;return 8*this[e(187)]-this[e(206)]}[U(172)](){const e=U;return 8*this[e(175)]-this[e(207)]()}u(e){const t=U;let n=0;for(;e>0;){n<<=e;const s=e>24?24:e;this[t(178)](),n|=this.bits>>>32-s,this[t(196)]<<=s,this[t(206)]-=s,e-=s}return n>>>0}[U(177)](){let e=0;for(;!this.u(1);)++e;return e>=32?0:this.u(e)+(1<<e)-1}[U(194)](){let e=0;for(let t=0;t<8;++t){const n=this.u(8);if(e|=(127&n)<<7*t,!(128&n))break}return e}ns(e){let t=M[U(197)](e),n=(1<<t)-e,s=this.u(t-1);return s<n?s:(s<<1)-n+this.u(1)}su(e){let t=this.u(e),n=1<<e-1;return t&n?t-2*n:t}}const C=L;function L(e,t){const n=q();return(L=function(e,t){return n[e-=167]})(e,t)}!function(){const e=L,t=q();for(;;)try{if(957418===parseInt(e(273))/1*(-parseInt(e(293))/2)+parseInt(e(258))/3+parseInt(e(225))/4+parseInt(e(184))/5*(parseInt(e(358))/6)+parseInt(e(467))/7*(parseInt(e(167))/8)+parseInt(e(497))/9*(parseInt(e(268))/10)+parseInt(e(317))/11*(-parseInt(e(443))/12))break;t.push(t.shift())}catch(e){t.push(t.shift())}}();const F=v(C(456)),B=p[C(201)],N=(e,t,n,s)=>{const r=C,i=s[r(188)]||1;t*=i,n*=i;const o=(u=e)instanceof ArrayBuffer?u:u[C(368)],a=(e[r(380)]||0)+e[r(242)],c=(e[r(380)]||0)+t;var u;let d=Math.max(0,Math.min(c,a)),h=Math.min(d+Math[r(272)](n,0),a);return d/=i,h/=i,new s(o,d,h-d)};function P(e,t=0,n=1/0){return N(e,t,n,Uint8Array)}function O(e){const t=C,n=Array[t(339)](e)[t(473)]((e=>e[t(340)](0)));return new Uint8Array(n)}function H(e){const t=function(e){const t=C;let n="";for(let s=0;s<e.length;s+=16e3){const r=e[t(320)](s,s+16e3);n+=String.fromCharCode[t(301)](null,r)}return n}(P(e));return btoa(t)}function q(){const e=["isfmb","cenc","dts","saiIvSize","readyState","sdtp","MediaSource","flags","parseSequenceHeader","initialized","trun","generatePlayReadyHeader"," - ","</DATA>","doAppend","from","charCodeAt","setUint16","stco","push","videoCodec","endMSE","stsc","<DATA>","ftyp","timestamp","[MSE] buffer error:","mediaSource","STSD","Reserved","onMSEClose","mseReady","createObjectURL","listener","36942OqyyKh","skipEG","seq","com.widevine","function"," track","getElementById","mse","bufferControllers","saiz","buffer",'" version="',"types","samples","seqHdrObu","irrecoverableError","getFramePayload","ManagedMediaSource","track","frma","initBrowser","mdat","byteOffset","toString","no video element were found to render, provide a valid video element","tkhd","parser","mp4a","mvhd","Padding","Frame","Browser does not support codec","audiosamplerate","readBoolean","queue","data","</KIDS>","drm","bind","moov","createBuffer","keyFrame","remuxController","tfdt","saio","appendBuffer","encryption","high_bitdepth","DINF","getData","sourceBuffer","H264","Received ","src","parseHeader","keyId","</WRMHEADER>","vmhd","audio","prototype","getSize","duration","addEventListener","SPS","mvex","padStart","onMSEOpen","seq_profile","getPayload","warn","[MSE] source buffer error","video","sps","start","stsz","tracks","offAll","No NALUs found","stsd","seq_tier","config","seqHdr","encrypted","isNonSync","hasRedundancy","12ZWNFQo","com.microsoft.playready.recommendation","isTypeSupported","Metadata","parseSPS","AUD","mediasource is not available to end: ","chroma_subsampling_x","readyToDecode","addVideoTrack","Failure: Browser doesn't support MSE/MMS","mediaDumps","avc1.","[MUX]","TileGroup","parseUnit","isKeyFrame","getTrackID","buffer error","ready","end","reset","adding ","join","13117811ndbxeh","readEG","avcC","FTYP","box","height","map","isvcl","AV1","parsePPS","options","STSC","remux","error","UNKNOWN","ext","flush","skipUEG","removeSourceBuffer","releaseBuffer","isReset","org.w3.clearkey","SEI","timescale","trex","Checking codec","[H264Parser] IDR without SPS/PPS, not suitable for recovery","startsWith","moof","STTS","2043NtbwSi","audioSampleAuxInfo","extractNALUs","trackTypes","monochrome","FrameHdr","timestamp gap: ","skipBits","len","type","onReady","mp4","ntype","NDR","stts","8IZnjeZ","readUEG",'/mp4; codecs="',"readBits","abort","getUint8","message","indexOf"," samples - expected 1",'<KID ALGID="AESCTR" ',"sourceclose","dinf","readUByte","bit_depth","av01.","h264","onBufferError","170LdIKKb","mdhd","calculateExpectedSizeFromSai","assembleFrames","BYTES_PER_ELEMENT","hdlr","licenseUrl","channelCount","tfhd","TYPES","onBuffer","url","getNri","Buffered range ","reduce","bitLength","nextDts","isSafari","</PROTECTINFO>","append","size",": NRI: ","POSITIVE_INFINITY","HDLR_TYPES","enca","readUInt","av1C","payload","minf","SeqHdr","encv","Unsupported DRM type ","resetTrack","node","av01","jmuxer","av1","trak","tenc","mp4track","stbl","4163764JRDpsQ","string","call","STSZ","revokeObjectURL","skipScalingList","skipLZ","isSupported","TileList","getBits","setData","mediaDuration","VMHD","setUint32","smhd","reportDiscontinuity","waitingForKeyFrame","byteLength","length","SMHD","STCO","IDR","keySystem","dispatch","units","stype","updating","</LA_URL>","concat","[H264Parser] Both IDR and non-IDR VCL NALUs found in the same frame","hasSize","discardData","slice","3677922jhgcwi","patchSampleAuxinfo","4.3.0.0","width","<PROTECTINFO>","[H264Parser] No VCL NALUs found","schi","set","disableRemotePlayback","cbcs","4560jahArq","PPS","codec","mdia","max","1UPBqYc","pps","off","dref","readSPS","Discontinuity!","onError","mfhd","Opus","esds","<LA_URL>","isReady","feed","open","dOps","dependsOn","webkitsourceclose","initSegment","chroma_subsampling_y","videoElement","3344162VyGCpE","</KID>","bitsAvailable","extractOBUs","destroy","sampleAuxInfo","Num frames in chunk: ","nri","apply","dbgMediaDump","seq_level_idx","senc","mseEnded","index","buffered","traf","shift","chroma_sample_position","schm","RedFrameHdr","videoSampleAuxInfo","getPayloadSize","durationMs","debug","20066629VIvkxL","remuxer","addAudioTrack","subarray",'<WRMHEADER xmlns="',"pssh","sinf"];return(q=function(){return e})()}class K{static get NDR(){return 1}static get[C(246)](){return 5}static get[C(489)](){return 6}static get[C(421)](){return 7}static get[C(269)](){return 8}static get[C(448)](){return 9}static get TYPES(){const e=C;return{[K[e(246)]]:e(246),[K[e(489)]]:"SEI",[K[e(421)]]:e(421),[K[e(269)]]:e(269),[K.NDR]:e(510),[K[e(448)]]:e(448)}}static type(e){const t=C;return e[t(509)]in K[t(193)]?K.TYPES[e.ntype]:t(481)}constructor(e){const t=C;this[t(211)]=e,this.nri=(96&this[t(211)][0])>>5,this[t(509)]=31&this[t(211)][0],this[t(474)]=1==this[t(509)]||5==this[t(509)],this[t(250)]="",this[t(324)]=!1}[C(381)](){const e=C;return K.type(this)+e(205)+this[e(196)]()}[C(196)](){return this[C(300)]}[C(506)](){return this[C(509)]}[C(459)](){const e=C;return this.ntype===K[e(246)]}[C(426)](){return this[C(211)]}[C(314)](){return this[C(211)].byteLength}[C(418)](){return 4+this.getPayloadSize()}[C(407)](){const e=C,t=new Uint8Array(this.getSize());return new DataView(t.buffer)[e(238)](0,this[e(418)]()-4),t[e(265)](this[e(426)](),4),t}}class _{constructor(e){const t=C;this[t(393)]=e,this[t(306)]=0,this.bitLength=8*e[t(242)]}[C(235)](e){const t=C;this.data=e,this[t(306)]=0,this[t(199)]=8*e[t(242)]}get bitsAvailable(){const e=C;return this[e(199)]-this[e(306)]}skipBits(e){if(this[C(295)]<e)return!1;this.index+=e}[C(170)](e,t=!0){return this[C(234)](e,this.index,t)}getBits(e,t,n=!0){const s=C;if(this[s(295)]<e)return 0;const r=t%8,i=this[s(393)][t/8|0]&255>>>r,o=8-r;if(o>=e)return n&&(this[s(306)]+=e),i>>o-e;{n&&(this.index+=o);const r=e-o;return i<<r|this[s(234)](r,t+o,n)}}[C(231)](){const e=C;let t;for(t=0;t<this[e(199)]-this[e(306)];++t)if(0!==this[e(234)](1,this[e(306)]+t,!1))return this[e(306)]+=t,t;return t}[C(484)](){this[C(504)](1+this.skipLZ())}[C(359)](){this.skipBits(1+this.skipLZ())}[C(168)](){const e=C,t=this[e(231)]();return this[e(170)](t+1)-1}[C(468)](){const e=this[C(168)]();return 1&e?1+e>>>1:-1*(e>>>1)}[C(391)](){return 1===this[C(170)](1)}[C(179)](e=1){return this[C(170)](8*e)}readUShort(){return this.readBits(16)}[C(209)](){return this[C(170)](32)}}class j{static[C(499)](e,t){const n=C,s=e[n(242)]!==t;let r=[],i=!1,o=!1,a=!1,c=!1,u=0,d=0,h=0,l=[];for(;u<=e.byteLength;){if(u<e.byteLength){const t=e[u++];0!==t?(1===t&&d>1&&(h=d>2?4:3,l.push(u)),d=0):++d}else h=0,l.push(u++);if(l.length>1){const t=l.shift(),n=l[0]-h;if(t<n){let h=!1;const l=31&e[t];if(l===K.NDR?o=!0:l===K.IDR?i=!0:l===K.SPS?(h=a,a=!0):l===K.PPS&&(h=c,c=!0),!h)if(!s||l!==K.NDR&&l!==K.IDR)r.push(e.subarray(t,n));else{const s=new Uint8Array(n-t);let i=0;for(u=t,d=0;u<n;){let t=e[u++];d>1&&3===t&&(d=0,t=e[u++]),0!==t?d=0:++d,s[i++]=t}r.push(s.subarray(0,i))}}}}let f=!0,p=!1;return o||i?o&&i&&(F[n(427)](n(254)),f=!1):(F[n(427)](n(263)),f=!1),i&&(a&&c?p=!0:F.warn(n(493))),f?{keyFrame:p,units:r}:{keyFrame:!1,units:[]}}static[C(187)](e){const t=C;let n=[],s=[],r=!1,i=!1;for(let o of e){let e=new K(o);e[t(506)]()!==K[t(246)]&&e.type()!==K.NDR||j.parseHeader(e),n[t(243)]&&i&&(e[t(324)]||!e[t(474)])&&(s[t(343)]({units:n,keyFrame:r}),n=[],r=!1,i=!1),n[t(343)](e),r=r||e.isKeyFrame(),i=i||e[t(474)]}if(n[t(243)])if(i)s[t(343)]({units:n,keyFrame:r});else{let e=s[t(243)]-1;e>=0&&(s[e][t(249)]=s[e][t(249)].concat(n))}return 1!==s[t(243)]&&F[t(427)](t(299)+s[t(243)]),s}static skipScalingList(e,t){const n=C;let s,r=8,i=8;for(let o=0;o<t;o++)0!==i&&(s=e[n(468)](),i=(r+s+256)%256),r=0===i?r:i}static[C(277)](e){const t=C;let n,s,r,i,o,a,c=new _(e),u=0,d=0,h=0,l=0,f=1;if(c[t(179)](),n=c.readUByte(),c[t(170)](5),c[t(504)](3),c[t(179)](),c[t(484)](),100===n||110===n||122===n||244===n||44===n||83===n||86===n||118===n||128===n){var p=c[t(168)]();if(3===p&&c[t(504)](1),c.skipUEG(),c[t(484)](),c[t(504)](1),c[t(391)]()){a=3!==p?8:12;for(let e=0;e<a;++e)c[t(391)]()&&(e<6?j[t(230)](c,16):j.skipScalingList(c,64))}}c.skipUEG();var m=c[t(168)]();if(0===m)c[t(168)]();else if(1===m){c.skipBits(1),c.skipEG(),c.skipEG(),s=c[t(168)]();for(let e=0;e<s;++e)c[t(359)]()}if(c[t(484)](),c[t(504)](1),r=c[t(168)](),i=c[t(168)](),o=c[t(170)](1),0===o&&c[t(504)](1),c[t(504)](1),c[t(391)]()&&(u=c[t(168)](),d=c.readUEG(),h=c[t(168)](),l=c[t(168)]()),c[t(391)]()){if(c[t(391)]()){let e;switch(c[t(179)]()){case 1:e=[1,1];break;case 2:e=[12,11];break;case 3:e=[10,11];break;case 4:e=[16,11];break;case 5:e=[40,33];break;case 6:e=[24,11];break;case 7:e=[20,11];break;case 8:e=[32,11];break;case 9:e=[80,33];break;case 10:e=[18,11];break;case 11:e=[15,11];break;case 12:e=[64,33];break;case 13:e=[160,99];break;case 14:e=[4,3];break;case 15:e=[3,2];break;case 16:e=[2,1];break;case 255:e=[c[t(179)]()<<8|c[t(179)](),c[t(179)]()<<8|c[t(179)]()]}e&&e[0]>0&&e[1]>0&&(f=e[0]/e[1])}c[t(391)]()&&c[t(504)](1),c[t(391)]()&&(c[t(504)](4),c[t(391)]()&&c[t(504)](24)),c[t(391)]()&&(c[t(484)](),c[t(484)]()),c.readBoolean()&&(c[t(209)](),c[t(209)](),c[t(391)]())}return{width:Math.ceil((16*(r+1)-2*u-2*d)*f),height:(2-o)*(i+1)*16-(o?2:4)*(h+l)}}static[C(412)](e){const t=C;let n=new _(e[t(426)]());n[t(179)](),e.isfmb=0===n.readUEG(),e[t(250)]=n[t(168)]()}constructor(e){const t=C;this[t(318)]=e,this[t(376)]=e[t(223)]}[C(447)](e){const t=C,n=j[t(277)](new Uint8Array(e));this[t(376)].width=n[t(261)],this[t(376)][t(472)]=n.height,this[t(376)][t(182)].sps=[new Uint8Array(e)],this[t(376)][t(270)]=t(455);let s=new DataView(e[t(368)],e[t(380)]+1,4);for(let e=0;e<3;++e){let n=s[t(172)](e)[t(381)](16);n[t(243)]<2&&(n="0"+n),this[t(376)][t(270)]+=n}}[C(476)](e){const t=C;this[t(376)][t(182)][t(274)]=[new Uint8Array(e)]}[C(458)](e){const t=C;let n=!1;switch(e.type()){case K[t(246)]:case K[t(510)]:n=!0;break;case K[t(269)]:this.track.h264[t(274)][t(243)]||(this[t(476)](e[t(426)]()),!this[t(318)].readyToDecode&&this[t(376)].h264[t(430)].length&&this[t(376)][t(182)].pps[t(243)]&&(this[t(318)][t(451)]=!0)),n=!0;break;case K.SPS:this[t(376)][t(182)][t(430)][t(243)]||(this[t(447)](e.getPayload()),!this[t(318)][t(451)]&&this[t(376)][t(182)].sps[t(243)]&&this[t(376)].h264[t(274)][t(243)]&&(this[t(318)][t(451)]=!0)),n=!0;break;case K.AUD:break;case K[t(489)]:n=!0}return n}}class V{static get SeqHdr(){return 1}static get TempDelim(){return 2}static get[C(502)](){return 3}static get[C(457)](){return 4}static get[C(446)](){return 5}static get[C(388)](){return 6}static get RedFrameHdr(){return 7}static get TileList(){return 8}static get[C(387)](){return 15}static get[C(193)](){const e=C;return{[V[e(213)]]:"SeqHdr",[V.TempDelim]:"TempDelim",[V[e(502)]]:e(502),[V[e(457)]]:"TileGroup",[V[e(446)]]:"Metadata",[V.Frame]:e(388),[V[e(312)]]:e(312),[V[e(233)]]:e(233),[V[e(387)]]:e(387)}}static[C(506)](e){const t=C;return e[t(506)]in V[t(193)]?V[t(193)][e[t(506)]]:t(353)}constructor(e,t){const n=C;this[n(211)]=e;const s=e[0];this[n(506)]=(120&s)>>>3,this[n(482)]=(4&s)>>>2,this[n(255)]=(2&s)>>>1,this[n(459)]=t}[C(381)](){return""+V[C(506)](this)}[C(426)](){return this.payload}[C(314)](){const e=C;return this.payload[e(242)]}getSize(){return this.getPayloadSize()}[C(407)](){return this.getPayload()}}function z(e,t){const n=new Uint8Array(t);let s=0;for(;s<t;){let t=127&e|128;n[s++]=t,e>>=7}return n[t-1]&=127,n}class W{static extractOBUs(e){let t=[],n=0;for(;n<e.byteLength;){const s=n,r=e[n++],i=(120&r)>>3;(4&r)>>2&&++n;const o=n;let a=n;if((2&r)>>1){let t=0;for(let s=0;s<8;++s){if(n>=e.byteLength)return F.warn("Truncated OBU"),{obus:[]};const r=e[n++];if(t|=(127&r)<<7*s,!(128&r))break}a=n,n+=t}else n=e.byteLength;if(i!==V.TempDelim&&i!==V.Padding&&i!==V.RedFrameHdr&&i!==V.TileList&&n>s)if(n>e.byteLength){const n=z(e.byteLength-a,a-o),r=e.subarray(s);r.set(n,o-s),t.push(r)}else t.push(e.subarray(s,n))}return{units:t}}static[C(187)](e,t){const n=C;let s=[];for(let r of e)s[n(343)](new V(r,t));return[{units:s,keyFrame:t}]}constructor(e){const t=C;this.remuxer=e,this[t(376)]=e.mp4track}[C(332)](e){const t=C;this[t(376)][t(220)][t(372)]=e;const n=this[t(376)].av1.seqHdr=new x(e);this[t(376)][t(261)]=n[t(261)],this[t(376)][t(472)]=n[t(472)],this.track[t(270)]=t(181)+n[t(425)]+"."+n[t(303)][0][t(381)]()[t(423)](2,"0")+(n[t(437)][0]?"H":"M")+"."+n[t(180)][t(381)]()[t(423)](2,"0")+"."+n.monochrome+"."+n[t(450)]+n[t(291)]+n[t(310)]}[C(458)](e){const t=C;return e[t(506)]===V[t(213)]&&(this.parseSequenceHeader(e[t(426)]()),this[t(318)][t(451)]=!0),!0}}class G{constructor(e){this[C(357)]={},this.type=""|e}on(e,t){const n=C;return!this[n(357)][e]&&(this[n(357)][e]=[]),this[n(357)][e][n(343)](t),!0}[C(275)](e,t){const n=C;if(this[n(357)][e]){var s=this[n(357)][e][n(174)](t);return s>-1&&this.listener[e].splice(s,1),!0}return!1}[C(434)](){this[C(357)]={}}dispatch(e,t){const n=C;return!!this.listener[e]&&(this[n(357)][e][n(473)]((e=>{e[n(301)](null,[t])})),!0)}}class J{constructor(e){const t=C;this[t(395)]=e,this[t(327)]={video:e[t(438)][t(429)]?.encryption===t(325)?16:0,audio:e.config[t(416)]?.[t(404)]===t(325)?16:0},J.types={avc1:[],encv:[],avcC:[],av1C:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],Opus:[],dOps:[],enca:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],pssh:[],sinf:[],frma:[],schm:[],schi:[],tenc:[],saiz:[],saio:[],senc:[]};for(let e in J.types)J[t(370)][e]=[e[t(340)](0),e[t(340)](1),e[t(340)](2),e.charCodeAt(3)];const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),s=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);J[t(207)]={video:n,audio:s};const r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);J[t(496)]=J[t(478)]=J[t(245)]=i,J.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),J[t(237)]=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),J[t(244)]=new Uint8Array([0,0,0,0,0,0,0,0]),J[t(352)]=new Uint8Array([0,0,0,0,0,0,0,1]);const o=new Uint8Array([105,115,111,54]),a=new Uint8Array([0,0,0,0]);let c=[105,115,111,54,100,97,115,104,99,109,102,99,99,109,102,50];e[t(438)][t(429)]?.[t(270)]===t(409)?c[t(343)](97,118,99,49):e.config[t(429)]?.codec===t(475)&&c.push(97,118,48,49),J[t(470)]=J.box(J[t(370)][t(348)],o,a,new Uint8Array(c)),J[t(406)]=J.box(J[t(370)][t(178)],J[t(471)](J[t(370)][t(276)],r))}static box(e,...t){const n=C;let s,r=8,i=t[n(243)],o=i;for(;i--;)t[i]&&(r+=t[i][n(242)]);for(s=new Uint8Array(r),s[0]=r>>>24,s[1]=r>>>16&255,s[2]=r>>>8&255,s[3]=255&r,s[n(265)](e,4),i=0,r=8;i<o;++i)t[i]&&(s.set(t[i],r),r+=t[i][n(242)]);return s}[C(189)](e){const t=C;return J[t(471)](J[t(370)][t(189)],J[t(207)][e])}[C(379)](e){const t=C;return J[t(471)](J[t(370)].mdat,e)}[C(185)](e,t){const n=C;return J.box(J[n(370)].mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,e>>>24,e>>>16&255,e>>>8&255,255&e,0,0,0,0,85,196,0,0]))}[C(271)](e){const t=C;return J[t(471)](J[t(370)][t(271)],this[t(185)](e[t(490)],e.duration),this.hdlr(e[t(506)]),this[t(212)](e))}[C(280)](e){const t=C;return J[t(471)](J[t(370)][t(280)],new Uint8Array([0,0,0,0,e>>>24,e>>>16&255,e>>>8&255,255&e]))}minf(e){const t=C;return e[t(506)]===t(416)?J[t(471)](J.types[t(212)],J[t(471)](J.types[t(239)],J.SMHD),J[t(406)],this[t(224)](e)):J[t(471)](J[t(370)][t(212)],J[t(406)],this[t(224)](e),J[t(471)](J[t(370)][t(415)],J[t(237)]))}moof(e,t,n){const s=C;return J[s(471)](J.types[s(495)],this[s(280)](e),this[s(308)](n,t))}[C(397)](e,t,n){const s=C;let r=e[s(243)],i=[];for(;r--;)i[r]=this.trak(e[r]);return J[s(471)][s(301)](null,[J[s(370)][s(397)],this[s(386)](n,t),this[s(322)](e)][s(253)](i)[s(253)](this[s(422)](e)))}mvex(e){const t=C;let n=e[t(243)],s=[];for(;n--;)s[n]=this[t(491)](e[n]);return J.box[t(301)](null,[J[t(370)][t(422)]][t(253)](s))}[C(386)](e,t){const n=C;let s=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return J.box(J[n(370)][n(386)],s)}[C(329)](e){const t=C;let n=e[t(371)]||[],s=new Uint8Array(4+n[t(243)]);for(let e=0;e<n.length;e++){const r=n[e][t(331)];s[e+4]=r[t(288)]<<4|r.isDependedOn<<2|r[t(442)]}return J[t(471)](J.types[t(329)],s)}[C(224)](e){const t=C;return J[t(471)](J[t(370)].stbl,this[t(436)](e),J[t(471)](J[t(370)][t(511)],J.STTS),J[t(471)](J[t(370)][t(346)],J[t(478)]),J.box(J[t(370)][t(432)],J[t(228)]),J[t(471)](J[t(370)][t(342)],J.STCO))}[C(469)](e){const t=C;let n=[],s=[];for(let s=0;s<e.h264[t(430)][t(243)];s++){const r=e[t(182)].sps[s],i=r[t(242)];n[t(343)](i>>>8&255),n.push(255&i),n=n[t(253)](Array.prototype.slice[t(227)](r))}for(let n=0;n<e[t(182)][t(274)].length;n++){const r=e.h264[t(274)][n],i=r[t(242)];s[t(343)](i>>>8&255),s[t(343)](255&i),s=s[t(253)](Array[t(417)][t(257)][t(227)](r))}return J.box(J[t(370)][t(469)],new Uint8Array([1,n[3],n[4],n[5],255,224|e[t(182)].sps[t(243)]].concat(n)[t(253)]([e[t(182)][t(274)][t(243)]])[t(253)](s)))}[C(210)](e){const t=C,n=e.av1.seqHdr;return J[t(471)](J[t(370)][t(210)],new Uint8Array([129,n.seq_profile<<3|n.seq_level_idx[0],n[t(437)][0]<<7|n[t(405)]<<6|n.twelve_bit<<5|n[t(501)]<<4|n.chroma_subsampling_x<<3|n[t(291)]<<2|n[t(310)],0,...e[t(220)][t(372)]]))}[C(214)](e){const t=C,n=e[t(270)][t(257)](0,4),s=n===t(218)?this[t(210)](e):this[t(469)](e),r=J[t(471)](J.types[t(323)],J[t(471)](J[t(370)][t(377)],O(n)),J[t(471)](J.types[t(311)],new Uint8Array([0,0,0,0,...O(this[t(395)][t(438)][t(429)][t(404)]),0,1,0,0])),J[t(471)](J[t(370)].schi,this[t(222)](t(429)))),i=e[t(261)],o=e[t(472)];return J[t(471)](J.types[t(214)],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>>8&255,255&i,o>>>8&255,255&o,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,65,86,n===t(218)?49:67,32,67,111,100,105,110,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]),s,r)}esds(e){const t=C;let n=e[t(438)][t(242)],s=new Uint8Array(26+n+3);return s[t(265)]([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5,n]),s[t(265)](e[t(438)],26),s[t(265)]([6,1,2],26+n),s}[C(385)](e){const t=C,n=e[t(390)];return J[t(471)](J[t(370)][t(385)],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e[t(191)],0,16,0,0,0,0,n>>>8&255,255&n,0,0]),J[t(471)](J.types[t(282)],this[t(282)](e)))}[C(287)](e){const t=C,n=e.audiosamplerate;return new Uint8Array([0,e[t(191)],1,56,0,0,n>>>8&255,255&n,0,0,0])}[C(281)](e){const t=C,n=e[t(390)];return J[t(471)](J.types[t(281)],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e[t(191)],0,16,0,0,0,0,n>>>8&255,255&n,0,0]),J[t(471)](J[t(370)][t(287)],this[t(287)](e)))}[C(208)](e){const t=C,n=J[t(471)](J[t(370)].dOps,this[t(287)](e)),s=J.box(J.types[t(323)],J[t(471)](J[t(370)][t(377)],new Uint8Array([79,112,117,115])),J[t(471)](J[t(370)].schm,new Uint8Array([0,0,0,0,...O(this[t(395)][t(438)][t(416)][t(404)]),0,1,0,0])),J[t(471)](J[t(370)][t(264)],this.tenc(t(416)))),r=e[t(390)];return J[t(471)](J[t(370)][t(208)],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e[t(191)],0,16,0,0,0,0,r>>>8&255,255&r,0,0]),n,s)}[C(436)](e){const t=C;return e[t(506)]===t(416)?J[t(471)](J[t(370)][t(436)],J.STSD,e.encrypted?this[t(208)](e):this[t(281)](e)):J.box(J[t(370)][t(436)],J[t(352)],this[t(214)](e))}[C(383)](e){const t=C,n=e.id,s=e.duration,r=e[t(261)],i=e[t(472)],o=e.volume;return J.box(J[t(370)][t(383)],new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,n>>>24,n>>>16&255,n>>>8&255,255&n,0,0,0,0,s>>>24,s>>>16&255,s>>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,255&o,o%1*10&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>>8&255,255&r,0,0,i>>>8&255,255&i,0,0]))}[C(308)](e,t){const n=C,s=e.id,r=e[n(371)][0][n(204)],i=e.samples[0].duration,o=e[n(371)][0][n(331)],a=J[n(471)](J[n(370)][n(192)],new Uint8Array([0,2,0,58,s>>>24,s>>>16&255,s>>>8&255,255&s,0,0,0,1,i>>>24,s>>>16&255,i>>>8&255,255&i,r>>>24,r>>>16&255,r>>>8&255,255&r,0,o[n(441)],0,0])),c=J[n(471)](J[n(370)][n(401)],new Uint8Array([0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t]));if(e[n(440)]){let t,s;if(e[n(506)]===n(429)?(t=!0,s=this[n(327)][n(429)]+e[n(371)][0].sampleAuxInfo?.byteLength):(t=!1,s=this[n(327)].audio),s>0){const r=this[n(367)](s),i=this.senc(e[n(371)],t),o=r[n(243)]+20+i[n(243)]+a[n(243)]+c.length+8+16+8+8,u=this[n(334)](e,o);return J[n(471)](J[n(370)].traf,a,c,u,r,this[n(402)](o-i[n(243)]+u[n(243)]+8),i)}{const t=this[n(304)](null,!1),s=t.length+a.length+c[n(243)]+8+16+8+8,r=this.trun(e,s);return J[n(471)](J.types[n(308)],a,c,r,t)}}return J[n(471)](J[n(370)].traf,a,c,this.trun(e,a.length+c[n(243)]+8+16+8+8))}[C(221)](e){const t=C;return e[t(419)]=e[t(419)]||4294967295,J[t(471)](J[t(370)][t(221)],this[t(383)](e),this.mdia(e))}[C(491)](e){const t=C,n=e.id;return J[t(471)](J[t(370)][t(491)],new Uint8Array([0,0,0,0,n>>>24,n>>>16&255,n>>>8&255,255&n,0,0,0,1,0,0,0,16,0,0,0,0,0,0,0,0]))}[C(334)](e,t){const n=C;let s=(e[n(371)]||[]).length,r=new Uint8Array(12);return t+=20,r.set([0,0,0,1,s>>>24,s>>>16&255,s>>>8&255,255&s,t>>>24,t>>>16&255,t>>>8&255,255&t],0),J[n(471)](J[n(370)].trun,r)}[C(335)](e,t){const n=C,s=n(260),r=H(function(e){const t=C,n=[];return n[t(343)](e[3]),n.push(e[2]),n[t(343)](e[1]),n.push(e[0]),n[t(343)](e[5]),n[t(343)](e[4]),n.push(e[7]),n[t(343)](e[6]),(e=P(e)).set(n,0),e}(e));return P(function(e,t){const n=C,s=new Uint8Array(2*e[n(243)]),r=new DataView(s[n(368)]);for(let s=0;s<e[n(243)];++s){const i=e.charCodeAt(s);r[n(341)](2*s,i,t)}return s.buffer}([n(321)+"http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader"+n(369)+s+'">',n(347),n(262),"<KIDS>",n(176),'VALUE="'+r+'"',">",n(294),n(394),n(202),t?n(283)+t+n(252):"",n(337),n(414)][n(466)](""),!0))}[C(322)](e){const t=C;if(this[t(395)][t(247)][t(494)](t(361)))return J.box(J[t(370)].pssh,new Uint8Array([0,0,0,0,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,0,0,18,18,16,...this.drm[t(438)][e[0].type][t(413)]]));if(this[t(395)][t(247)]===t(444)){const n=this[t(335)](this[t(395)][t(438)][e[0][t(506)]][t(413)],this[t(395)][t(190)]),s=n[t(242)];return J[t(471)](J[t(370)].pssh,new Uint8Array([0,0,0,0,154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149,s>>>24,s>>>16&255,s>>>8&255,255&s,...n]))}return this[t(395)].keySystem===t(488)?J[t(471)](J[t(370)].pssh,new Uint8Array([1,0,0,0,16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75,0,0,0,1,...this[t(395)].config[e[0].type][t(413)],0,0,0,0])):"com.apple.fps"===this[t(395)][t(247)]?null:void F[t(480)](t(215)+this[t(395)].keySystem)}[C(222)](e){const t=C;let n,s,r=this[t(395)][t(438)][e];return r[t(404)]===t(267)?(n=new Uint8Array([16,...r.iv]),s=25):(n=new Uint8Array([]),s=0),J[t(471)](J[t(370)][t(222)],new Uint8Array([1,0,0,0,0,s,1,this[t(327)][e],...r.keyId,...n]))}[C(367)](e){const t=C;return J[t(471)](J[t(370)].saiz,new Uint8Array([0,0,0,0,e,0,0,0,1]))}[C(402)](e){return J.box(J.types.saio,new Uint8Array([0,0,0,0,0,0,0,1,e>>>24,e>>>16&255,e>>>8&255,255&e]))}[C(304)](e,t){const n=C;let s=null;return e&&(1!==e[n(243)]&&F[n(480)](n(410)+e[n(243)]+n(175)),s=e[0][n(298)]),s&&s[n(242)]?J[n(471)](J[n(370)][n(304)],new Uint8Array([0,0,0,t?2:0,0,0,0,1,...s])):J[n(471)](J[n(370)][n(304)],new Uint8Array([0,0,0,0,0,0,0,1]))}[C(290)](e,t,n){const s=C,r=this[s(397)](e,t,n);let i=new Uint8Array(J[s(470)].byteLength+r[s(242)]);return i[s(265)](J[s(470)]),i[s(265)](r,J.FTYP[s(242)]),i}}let Y=1;class Z{constructor(){this[C(360)]=1}static[C(460)](){return Y++}[C(256)](){const e=C;this.mp4track.len=0,this[e(223)].samples=[]}[C(284)](){const e=C;return!(!this[e(451)]||!this[e(371)].length)}}class Q extends Z{constructor(e,t){const n=C;super(),this.readyToDecode=!0,this[n(200)]=0,this.dts=0,this[n(223)]={id:Z[n(460)](),type:n(416),channelCount:2,audiosamplerate:48e3,len:0,timescale:t,duration:t,samples:[],codec:"opus",encrypted:!0},this[n(371)]=[]}[C(216)](){const e=C;this[e(360)]=1,this[e(200)]=0,this[e(326)]=0}[C(479)](e,t,n){const s=C;if(e.length>0)for(let r=0;r<e[s(243)];r++){let i=e[r],o=i[s(249)],a=o[s(242)];this[s(371)][s(343)]({units:o,size:a,duration:i[s(419)],sampleAuxInfo:t,timestamp:n}),this.mp4track[s(505)]+=a}}getFramePayload(){const e=C;if(!this.samples)return null;let t,n=this.mp4track[e(371)];for(;this[e(371)].length;){let s=this[e(371)][e(309)](),r=(1e3*s[e(349)]|0)-this[e(200)]|0;r<5&&(r=5),this[e(326)]=this[e(200)],this[e(200)]+=r,t={size:s[e(204)],duration:r,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1},sampleAuxInfo:s[e(298)]};let i=new Uint8Array(s[e(204)]);return i.set(s[e(249)],0),n.push(t),new Uint8Array(i[e(368)],0,s[e(204)])}return null}}class X extends Z{constructor(e,t,n){const s=C;super(),this[s(451)]=!1,this.nextDts=0,this[s(326)]=0,this[s(292)]=n,this[s(223)]={id:Z.getTrackID(),type:s(429),codec:e,len:0,h264:{sps:[],pps:[]},av1:{sequenceHeader:""},width:0,height:0,timescale:t,duration:t,samples:[],encrypted:!0},this[s(371)]=[],"H264"===e?this.parser=new j(this):e===s(475)&&(this[s(384)]=new W(this))}[C(216)](){const e=C;this.seq=1,this[e(451)]=!1,this[e(223)][e(182)][e(430)]=[],this[e(223)][e(182)].pps=[],this[e(223)][e(220)][e(439)]=null,this[e(200)]=0,this[e(326)]=0}[C(479)](e,t,n){const s=C;for(let r of e){let e=[],i=0;for(let t of r[s(249)])this.parser.parseUnit(t)&&(e[s(343)](t),i+=t.getSize());e[s(243)]>0&&this.readyToDecode&&(this[s(223)][s(505)]+=i,this[s(371)][s(343)]({units:e,size:i,keyFrame:r[s(399)],duration:r[s(419)],sampleAuxInfo:t,timestamp:n}))}}[C(374)](){const e=C;if(!this[e(284)]()||!this[e(371)])return null;let t,n=this[e(223)].samples,s=this[e(371)].shift(),r=s.units,i=(1e3*s[e(349)]|0)-this[e(200)]|0;i<5&&(i=5),i>5e3&&F[e(316)](e(503)+(i/1e3|0)+" s"),this.dts=this[e(200)],this[e(200)]+=i,t={size:s[e(204)],duration:i,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,isNonSync:s.keyFrame?0:1,dependsOn:s[e(399)]?2:1},sampleAuxInfo:s[e(298)]};let o=0;for(const t of r)o+=t[e(418)]();let a=0,c=new Uint8Array(o);for(const t of r)c[e(265)](t[e(407)](),a),a+=t[e(418)]();return n[e(343)](t),new Uint8Array(c[e(368)],0,o)}}class $ extends G{constructor(e,t){const n=C;super("remuxer"),this[n(333)]=!1,this[n(500)]=[],this.tracks={},this[n(490)]=1e3,this.mediaDuration=0,this[n(292)]=e,this[n(508)]=t}[C(452)](e){const t=C;F[t(316)]("adding "+e+t(363)),this[t(433)][t(429)]=new X(e,this[t(490)],this[t(292)]),this[t(500)].push(t(429))}[C(319)](e){const t=C;F.debug(t(465)+e+t(363)),this[t(433)][t(416)]=new Q(e,this[t(490)]),this.trackTypes[t(343)](t(416))}[C(464)](){const e=C;for(let t of this.trackTypes)this[e(433)][t].resetTrack();this[e(333)]=!1}[C(297)](){this[C(433)]={},this.offAll()}[C(483)](){const e=C;if(this[e(333)])for(let t of this[e(500)]){let n=this.tracks[t];for(;;){let s=n.getFramePayload();if(!s||!s[e(242)])break;let r={type:t,payload:I(this.mp4[e(495)](n[e(360)]++,n.dts,n[e(223)]),this[e(508)][e(379)](s)),dts:n.dts};this[e(248)]("buffer",r),n[e(256)]()}}else this[e(284)]()&&(this.dispatch(e(462)),this[e(290)](),this[e(333)]=!0,this[e(483)]())}[C(290)](){const e=C;for(let t of this[e(500)]){let n=this[e(433)][t],s={type:t,payload:this.mp4.initSegment([n[e(223)]],this[e(236)],this[e(490)])};this[e(248)](e(368),s)}}[C(284)](){const e=C;for(let t of this[e(500)])if(!this[e(433)][t][e(451)]||!this[e(433)][t][e(371)].length)return!1;return!0}[C(479)](e){const t=C;for(let n of this[t(500)]){let s=e[n];if(s[t(243)]>0){this[t(433)][n][t(479)](s,n===t(416)?e[t(498)]:e.videoSampleAuxInfo,e[t(349)])}}this.flush()}}class ee extends G{constructor(e,t,n){const s=C;super(s(368)),this[s(506)]=t,this.queue=new Uint8Array;const r=b[s(454)][t]?.out[s(315)];r>0&&(this.dbgMediaDump=new E(t,s(508),r)),this.sourceBuffer=e,this[s(365)]=n,this[s(373)]=!1,this[s(408)][s(420)]("error",(e=>{const t=s;F[t(427)](t(428),e,this[t(506)]),this[t(373)]=!0,this.dispatch(t(480),{type:this[t(506)],name:"buffer",error:t(461)})}))}destroy(){const e=C;this[e(392)]=null,this[e(302)]=null;try{this[e(408)]&&(this.sourceBuffer[e(171)](),this[e(365)][e(485)](this[e(408)]),this[e(408)]=null)}catch(e){}this[e(434)]()}[C(338)](){const e=C;if(this[e(392)][e(243)]&&this[e(408)]&&!this.sourceBuffer[e(251)]){if(this.sourceBuffer[e(307)][e(243)]>1){for(let t=0;t<this[e(408)][e(307)][e(243)];++t){const n=t<this[e(408)][e(307)][e(243)]-1;F.debug(e(197)+t+(n?" (remove)":"")+": "+this.sourceBuffer[e(307)].start(t)+e(336)+this[e(408)].buffered[e(463)](t)),n&&this[e(408)].remove(this[e(408)][e(307)][e(431)](t),this[e(408)][e(307)][e(463)](t))}if(this[e(408)][e(251)])return}try{this[e(408)][e(403)](this[e(392)]),this.queue=new Uint8Array}catch(t){this[e(248)](e(480),{type:this.type,name:"appendBufferError",error:t})}}}feed(e,t){const n=C;this[n(302)]&&(this[n(302)][n(203)](e,t)||(this[n(302)]=null)),this[n(373)]||(this[n(392)]=I(this[n(392)],e)),this[n(338)]()}}class te extends G{static isSupported(e){const t=C;return window[t(375)]?window[t(375)][t(445)](e):!!window[t(330)]&&window.MediaSource[t(445)](e)}constructor(e){const t=C;super(t(219)),this[t(373)]=!1,this[t(241)]=!0,this.isReset=!1,this.mseReady=!1,this[t(305)]=!1;this[t(477)]=Object.assign({},{node:"",debug:!1,onReady:function(){},onError:function(e){}},e),this[t(217)]=typeof this.options[t(217)]===t(226)?document[t(364)](this[t(477)].node):this[t(477)].node,this[t(395)]=e[t(395)],this[t(508)]=new J(this.drm),this.remuxController=new $(this.node,this[t(508)]),this[t(477)][t(344)]&&this[t(400)][t(452)](this[t(477)].videoCodec),this[t(477)].audioCodec&&this[t(400)][t(319)](this[t(477)].audioCodec),this[t(400)].on(t(368),this[t(194)][t(396)](this)),this[t(400)].on(t(462),this.createBuffer[t(396)](this)),this[t(378)]()}initBrowser(){const e=C;typeof this[e(477)][e(217)]===e(226)&&""==this[e(477)][e(217)]&&F.error(e(382)),this[e(355)]=!1,this.setupMSE()}setupMSE(){const e=C;if(!window[e(375)]&&!window[e(330)])throw e(453);window[e(375)]?(this[e(217)][e(266)]=!0,this[e(351)]=new ManagedMediaSource):this.mediaSource=new MediaSource,this.url=URL[e(356)](this[e(351)]),this[e(217)][e(411)]=this[e(195)],this[e(305)]=!1,this[e(351)][e(420)]("sourceopen",this[e(424)][e(396)](this)),this.mediaSource.addEventListener(e(177),this[e(354)][e(396)](this)),this[e(351)][e(420)]("webkitsourceopen",this.onMSEOpen[e(396)](this)),this[e(351)].addEventListener(e(289),this[e(354)].bind(this)),this.mediaSource.addEventListener(e(480),(function(t){const n=e;F[n(480)]("[MSE] error: ",t[n(173)])}))}endMSE(){const e=C;if(!this[e(305)])try{this[e(305)]=!0,this.mediaSource[e(328)]===e(286)&&this[e(351)].endOfStream()}catch(t){F.error(e(449),t)}}[C(240)](){const e=C;F.debug(e(278)),this.waitingForKeyFrame=!0}feed(e){const t=C;let n={video:[],audio:[]};if(this.irrecoverableError||this.mseEnded)return-1;if(!e||!this[t(400)])return-1;if(e[t(429)]){n.timestamp=e.timestamp;const s=this[t(186)](e.videoSampleAuxInfo,this[t(508)].saiIvSize[t(429)]);let r=null;if(this[t(477)][t(344)]===t(409)){if(r=j[t(499)](e[t(429)],s),!r[t(249)][t(243)])return F[t(427)](t(435)),0}else if(this[t(477)].videoCodec===t(475)&&(r=W[t(296)](e[t(429)]),!r.units.length))return F[t(427)]("No OBUs found"),0;if(this[t(241)]){if(!e[t(459)]&&!r[t(399)])return 0;this[t(241)]=!1}if(this.options[t(344)]===t(409)){if(!B&&e.videoSampleAuxInfo){const n=r[t(249)][t(198)](((e,n)=>e+4+n[t(242)]),0);n!==s&&this[t(259)](e.videoSampleAuxInfo,this.mp4.saiIvSize[t(429)],n-s)}n[t(429)]=j.assembleFrames(r[t(249)])}else this.options.videoCodec===t(475)&&(n.video=W[t(187)](r[t(249)],e[t(459)]));n[t(313)]=e.videoSampleAuxInfo}return e[t(416)]&&(n.timestamp=e[t(349)],n[t(416)]=[{units:e[t(416)]}],n[t(498)]=e[t(498)]),e.video||e[t(416)]?(this.remuxController[t(479)](n),0):(F[t(480)]("No A/V data"),0)}calculateExpectedSizeFromSai(e,t){const n=C;if(!e)return 0;const s=(e[0]<<8)+e[1],r=t+2+4;let i=0,o=2;for(;0<s&&o+r<=e[n(242)];){o+=t;const n=(e[o]<<8)+e[o+1],s=(e[o+2]<<24)+(e[o+3]<<16)+(e[o+4]<<8)+e[o+5];o+=6,i+=n+s}return i}[C(259)](e,t,n){let s=2;if(0<(e[0]<<8)+e[1]&&s+(t+2+4)<=e.byteLength){s+=t;let r=(e[s]<<8)+e[s+1];r+=n,r>=0&&(e[s]=r>>>8&255,e[s+1]=255&r)}return 0}[C(398)](){const e=C;if(this.mseReady&&this.remuxController&&this[e(400)].isReady()&&!this.bufferControllers){this[e(366)]={};for(let t in this.remuxController[e(433)]){let n=this[e(400)][e(433)][t];const s=""[e(253)](t,e(169)).concat(n[e(223)][e(270)],'"');if(F[e(316)](e(492),s),!te[e(232)](s))return F[e(480)](e(389)),!1;let r=this.mediaSource.addSourceBuffer(s);this.bufferControllers[t]=new ee(r,t,this.mediaSource),this[e(366)][t].on("error",this[e(183)][e(396)](this))}}}[C(486)](){const e=C;for(let t in this.bufferControllers)this[e(366)][t][e(338)]()}onBuffer(e){const t=C;this[t(355)]&&this[t(366)]&&this[t(366)][e.type]&&this.bufferControllers[e[t(506)]][t(285)](e.payload,e[t(326)])}[C(424)](){const e=C;F[e(316)]("[MSE] sourceopen"),"ended"!==this[e(351)].readyState&&(this[e(351)].duration=Number[e(206)],this[e(355)]=!0,typeof this.options[e(507)]===e(362)&&this[e(477)].onReady[e(227)](null,this[e(487)]),URL[e(229)](this[e(195)]),this[e(398)]())}onMSEClose(){const e=C;F[e(316)]("[MSE] sourceclose"),this[e(355)]=!1,this[e(345)]()}[C(183)](e){const t=C;F[t(427)](t(350),e),this[t(373)]=!0,this[t(345)](),"function"==typeof this[t(477)][t(279)]&&this[t(477)].onError.call(null,e)}}function ne(e,t){var n=se();return(ne=function(e,t){return n[e-=213]})(e,t)}function se(){var e=["118518TDzoKs","1474824QmsHCN","20oFdTWM","42UvUQUa","782752BalSUx","1021405cxttdv","15010KgduZM","2.6.0-5255cd6a","1703669KOGQyW","18FvFtAZ","65ezIjhX","65862FFmsHv"];return(se=function(){return e})()}function re(){return ne(215)}function ie(){const e=["1524696dkLAlT","https://lic.test.drmtoday.com","xUuwokpsqVIHZrJfu62ar+BF8UVUKdK5oYQoiTZd9OzK3kr29kqGGk3lSgM0/p499p/FUL8oH","charCodeAt","+vwmV2/NJWxKqHBKdL9JqvOnNiQUF0hDI7Wf8Wb63RYSXKE27Ky31hKgx1wuq7TTWkA+kHnJT","7hyskG5ZLAyJMzTvgnV3D8/I5Y6mCFBPb/+/Ri+9bEvquPF3Ff9ip3yEHu9mcQeEYCeGe9zR/","630ryfwaR","name","wyoYOE+M/t1oIbccwlTQ7o+BpV1X6TB7fxFyx1jsBtRsBWphU65w121zqmSiwzZzJ4xsXVQCJ","pQnNI61gzHO42XZOMuxytMm0F6puNHTTqhyY3Z290YqvSDdOB+UY5QJuXJgjhvOUD9+oaLlvT","development","certificate","27eI5MATX39gYtCnn7dDXVxo4/rCYK0A4VemC3HRai2X3pSGcsKY7+6we7h4IycjqtuGtYg8A","https://lic.drmtoday.com","66kOgqMn","toString","65340EMzWvZ","380GJJSKK","Production","3151872RNtfMr","https://lic.staging.drmtoday.com","535wGmZNq","atob","Development","13971419tNgQxa","pcFB13osydpD2AaDsgWo5RWJcNf+fzCgtUQx/0Au9+xVm5LQBdv8Ja4f2oiHN3dw","baigovcoURAZcr1d/G0rpREjLdVLG0Gjqk63Gx688W5gh3TKemsK3R1jV0dOfj3e6uV/kTpsN","baseUrl","49voytuS","31192ASxByG","14738bodaPO","Staging"];return(ie=function(){return e})()}function oe(e,t){const n=ie();return(oe=function(e,t){return n[e-=361]})(e,t)}!function(){for(var e=ne,t=se();;)try{if(271298===parseInt(e(220))/1+-parseInt(e(214))/2*(parseInt(e(223))/3)+parseInt(e(221))/4+-parseInt(e(218))/5*(parseInt(e(219))/6)+parseInt(e(213))/7+-parseInt(e(224))/8*(-parseInt(e(217))/9)+parseInt(e(222))/10*(-parseInt(e(216))/11))break;t.push(t.shift())}catch(e){t.push(t.shift())}}();const ae=oe;!function(){const e=oe,t=ie();for(;;)try{if(506735===parseInt(e(385))/1*(-parseInt(e(387))/2)+parseInt(e(389))/3+-parseInt(e(374))/4*(parseInt(e(378))/5)+-parseInt(e(371))/6*(parseInt(e(386))/7)+-parseInt(e(376))/8+parseInt(e(373))/9*(-parseInt(e(363))/10)+parseInt(e(381))/11)break;t.push(t.shift())}catch(e){t.push(t.shift())}}();const ce="CrsCCAMSEKDc0WAwLAQT1SB2ogyBJEwYv4Tx7gUijgIwggEKAoIBAQC8Xc/GTRwZDtlnBThq8V382D1oJAM0F/YgCQtNDLz7vTWJ+QskNGi5Dd2qzO4s48Cnx5BLvL4H0xCRSw2Ed6ekHSdrRU"+ae(365)+ae(366)+ae(361)+"UrTEfQxfPR4dJTquE+IDLAi5yeVVxzbAgMBAAE6DGNhc3RsYWJzLmNvbUABEoADMmGXpXg/0q"+ae(391)+"HzgsJ7Hajdsyzn0Vs3+VysAgaJAkXZ+k+N6Ka0WBiZlCtcunVJDiHQbz1sF9GvcePUUi2fM/h"+ae(362)+ae(369)+ae(383)+"RL9KsD0v7ysBQVdUXEbJotcFz71tI5qc3jwr6GjYIPA3VzusD17PN6AGQniMwxJV12z/EgnUo"+ae(382),ue=Uint8Array.from(window[ae(379)](ce),(e=>e[ae(392)](0)));class de{constructor(e){this[ae(364)]=e}[ae(372)](){return this[ae(364)]}[ae(384)](){const e=ae;switch(this[e(364)]){case"staging":return e(377);case e(367):return e(390);default:return e(370)}}[ae(368)](){return ue}}de[ae(388)]=new de("staging"),de[ae(375)]=new de("production"),de[ae(380)]=new de(ae(367));const he=pe;function le(){const e=["56MKuPhh","getUint16","4lAxRyM","byteLength","Unsupported SampleAuxInfo version","Unsupported SampleAuxInfo version (audio)","getUint8","buffer","subarray","8103975elcbLV","SampleAuxInfo is missing or corrupted","32410hnbSVy","23876EjZtsl","data","5XvuCec","125493PhPbjm","error","4138816zjjHKc","[RTC-DRM]","AV1","SampleAuxInfo corrupted (audio)","157218ZbvjRY","2833556eWyvll","cenc","837jSOHbq"];return(le=function(){return e})()}!function(){const e=pe,t=le();for(;;)try{if(422646===parseInt(e(183))/1*(parseInt(e(193))/2)+-parseInt(e(196))/3+-parseInt(e(203))/4*(-parseInt(e(195))/5)+parseInt(e(202))/6*(-parseInt(e(181))/7)+-parseInt(e(198))/8+-parseInt(e(180))/9*(parseInt(e(192))/10)+parseInt(e(190))/11)break;t.push(t.shift())}catch(e){t.push(t.shift())}}();const fe=v(he(199));function pe(e,t){const n=le();return(pe=function(e,t){return n[e-=180]})(e,t)}const me=Ae;!function(){const e=Ae,t=Ue();for(;;)try{if(205318===-parseInt(e(329))/1*(-parseInt(e(325))/2)+-parseInt(e(341))/3*(parseInt(e(344))/4)+-parseInt(e(332))/5+parseInt(e(327))/6*(parseInt(e(337))/7)+-parseInt(e(322))/8+parseInt(e(343))/9*(parseInt(e(342))/10)+parseInt(e(336))/11*(parseInt(e(328))/12))break;t.push(t.shift())}catch(e){t.push(t.shift())}}();const ye=Object[me(326)]({IDR0:0,IDR1:1,Broken:2}),ge=[],we=[];let ve=0;function be(e){const t=me;return 0===ge[t(334)]&&function(){const e=me;ge[e(331)](new Uint8Array([0,0,0,1,39,100,0,13,172,87,5,6,100,0,0,0,1,40,238,60,176,0,0,0,1,37,184,32,0,203,255,38,29,217,24,192,161,96,0,0,12,229,174,166,6,7,20,3,84,0,247,96,193,181,229,128,0,32,32]).buffer),ge[e(331)](ge[ye[e(333)]][e(345)](0)),new Uint8Array(ge[ye[e(338)]])[e(339)]([16,0,50],27),ge[e(331)](new Uint8Array([0,0,0,1,65,154,255,255]).buffer);for(const t of ge)we[e(331)](t.slice(0))}(),function(){const e=me;for(const t of Object[e(330)](ye))0===we[t][e(340)]&&(we[t]=ge[t][e(345)](0))}(),e?we[ye[t(323)]]:(ve^=1,we[ve])}const Se=Object[me(326)]({Key:0,Broken:1}),Ie=[],Ee=[];function Ae(e,t){const n=Ue();return(Ae=function(e,t){return n[e-=321]})(e,t)}function Ue(){const e=["1308hnQxkh","slice","Key","2840888gHXBTp","Broken","H264","674EHecBg","freeze","2298UrBaCY","3288OBNduk","169KZlNlV","values","push","630350zRyeHp","IDR0","length","buffer","14333SEbmJw","6706nkhtyv","IDR1","set","byteLength","2655apcuZa","430BDLkoC","40815DTBlPV"];return(Ue=function(){return e})()}function ke(e){const t=me;return 0===Ie[t(334)]&&function(){const e=me;Ie[e(331)](new Uint8Array([10,11,0,0,0,4,60,254,252,255,249,128,64,50,23,16,0,156,0,0,0,176,0,0,128,1,197,121,195,220,135,144,202,149,140,242,104,176])[e(335)]),Ie[e(331)](new Uint8Array([50,21,48,3,192,128])[e(335)]);for(const t of Ie)Ee[e(331)](t[e(345)](0))}(),function(){const e=me;for(const t of Object.values(Se))0===Ee[t][e(340)]&&(Ee[t]=Ie[t][e(345)](0))}(),e?Ee[Se[t(323)]]:Ee[Se[t(321)]]}const Te=Be;!function(){const e=Be,t=Je();for(;;)try{if(238091===-parseInt(e(504))/1*(-parseInt(e(530))/2)+-parseInt(e(483))/3+parseInt(e(482))/4*(-parseInt(e(486))/5)+-parseInt(e(506))/6*(parseInt(e(481))/7)+parseInt(e(560))/8+-parseInt(e(479))/9*(parseInt(e(477))/10)+parseInt(e(500))/11*(parseInt(e(466))/12))break;t.push(t.shift())}catch(e){t.push(t.shift())}}();const De=v(Te(474));let Re={licenseUrl:"",onFetch:void 0};const xe={},Me=(e,t,n)=>{const s=Te,r=Uint8Array.BYTES_PER_ELEMENT;t*=r,n*=r;const i=(c=e)instanceof ArrayBuffer?c:c[Te(491)],o=e[s(541)],a=t;var c;let u=Math.max(0,Math[s(531)](a,o)),d=Math[s(531)](u+Math[s(463)](n,0),o);return u/=r,d/=r,new Uint8Array(i,u,d-u)},Ce=(e,t=0,n=1/0)=>Me(e,t,n);function Le(e,t,n=!1){const s=Te;if(!e)return"";let r=e;if(!n&&r[s(541)]%2!=0)throw De.error("Data has an incorrect length, must be even."),new Error(s(517));const i=Ce(r);let o;if((t&&255===i[0]&&254===i[1]||254===i[0]&&255===i[1])&&(r=i.subarray(2)),r instanceof ArrayBuffer)o=r;else{const e=new Uint8Array(r[s(541)]);e[s(559)](Ce(r)),o=e[s(491)]}const a=Math[s(516)](r.byteLength/2),c=new Uint16Array(a),u=new DataView(o);for(let e=0;e<a;e++)c[e]=u[s(503)](2*e,t);return function(e){const t=Te;let n="";for(let s=0;s<e[t(534)];s+=16e3){const r=e[t(533)](s,s+16e3);n+=String[t(554)][t(523)](null,r)}return n}(c)}const Fe=e=>{const t=Te;let n="";for(const s of e){let e=s.toString(16);1==e[t(534)]&&(e="0"+e),n+=e}return n};function Be(e,t){const n=Je();return(Be=function(e,t){return n[e-=462]})(e,t)}let Ne=null;const Pe=e=>{const t=Te;return window[t(543)](String.fromCharCode.apply(null,e))[t(475)](/\+/g,"-")[t(475)](/\//g,"_").replace(/=*$/,"")},Oe=(e,t)=>{const n=Te,s=(e=>{const t=Te,n=JSON.parse((new TextDecoder)[t(487)](e));if(De[t(502)](t(468),n),null===Ne)throw new Error(t(529));const s=[];for(const e of n[t(524)]){const n={kty:t(520),alg:t(505),kid:e,k:Pe(Ne)};s.push(n)}return(new TextEncoder).encode(JSON.stringify({keys:s}))})(t[n(526)]);t[n(480)][n(488)](s)[n(522)]((function(e){const t=n;De.error(t(492),e)}))},He=e=>{const t=Te,n=window[t(493)](e[t(475)](/-/g,"+")[t(475)](/_/g,"/")),s=new Uint8Array(n[t(534)]);for(let e=0;e<n[t(534)];++e)s[e]=n[t(548)](e);return s},qe=(t,n,...s)=>e(void 0,[t,n,...s],void 0,(function*(e,t,n=!1){const s=Te,r=new Headers(xe);n&&r[s(473)]("Content-Type",s(545));const i={method:s(535),headers:r,body:t},o=yield Re[s(521)]?Re[s(521)](e,i):fetch(e,i);if(!o.ok)throw new Error(s(558)+o[s(508)]);return o})),Ke=(e,t)=>{const n=Te;qe(Re.licenseUrl,t[n(526)]).then((e=>e.json()))[n(532)]((e=>{const s=n;De.debug(s(485),e[s(497)]);const r=He(e.license).buffer;t[s(480)][s(488)](r)[s(522)]((e=>{const t=s;De.error(t(492),e)}))}))[n(522)]((t=>{const s=n;e.dispatchEvent(new CustomEvent(s(551),{detail:{message:""+t}})),De.error(t)}))},_e=(e,t)=>{const n=Te,s=((e,t)=>{const n=Te,s=new DOMParser;try{const e=Le(t,!0);if(e[n(549)](n(513))>-1){const t=s[n(555)](e,"text/xml")[n(557)](n(462))[0][n(546)][0][n(499)];if(null===t)throw new Error(n(536));return He(t)}De[n(496)]("[PR] Challenge node not found")}catch(t){e[n(469)](new CustomEvent(n(551),{detail:{message:""+t}})),De.error(t)}return null})(e,t[n(526)]);if(null===s)return e[n(469)](new CustomEvent(n(551),{detail:{message:n(536)}})),void De[n(547)](n(536));qe(Re[n(540)],s[n(491)],!0)[n(532)]((e=>e[n(553)]()))[n(532)]((s=>{const r=n;De.debug(r(476),s);t[r(480)].update(s)[r(522)]((function(t){const n=r;e[n(469)](new CustomEvent("rtcdrmerror",{detail:{message:n(478)+t}})),De[n(547)](n(492),t)}))}))[n(522)]((t=>{const s=n;e[s(469)](new CustomEvent(s(551),{detail:{message:""+t}})),De.error(t)}))},je=(e,t)=>{const n=Te;qe(Re[n(540)],t[n(526)]).then((e=>{const t=n,s=e[t(527)]();return De[t(502)](t(518),e,s),s}))[n(532)]((e=>{const s=n;t.target[s(488)](He(e))})).catch((t=>{const s=n;e[s(469)](new CustomEvent(s(551),{detail:{message:""+t}})),De.error(t)}))},Ve=(e,t)=>{xe[e]=t},ze=p[Te(515)];let We=!ze;const Ge=new Map;function Je(){const e=["bind","buffer","Failed to update the session","atob","New lic will be requested","close","warn","license","temporary","nodeValue","247489UFzNNS","Key ","debug","getUint16","6996wXlbAR","A128KW","18VpUPTX","delete","status","initDataType","keystatuseschange","No init data available!","Failed to load previous EME session","<Challenge","internal-error","isSafari","floor","Data does not seem to be UTF-16 encoded!","[FPS] License fetched:","createSession","oct","onFetch","catch","apply","kids","No media element available!","message","text","load","No clear key test key provided!","58ARElCV","min","then","subarray","length","POST","No PR challenge data!","persistent-license","keyStatuses","Previous lic will be reused","licenseUrl","byteLength","output-downscaled","btoa","initData","text/xml","childNodes","error","charCodeAt","indexOf","usable for decryption (status: ","rtcdrmerror","Failed to reuse previous EME session: ","arrayBuffer","fromCharCode","parseFromString","9a04f07998404286ab92e65be0885f95","getElementsByTagName","License acquisition failed with error ","set","909920ctBGrk","Challenge","max","addEventListener"," is not ","420VsmHnW","EME createSession() failed - no DRM available","CK license request:","dispatchEvent","generateRequest","EME createSession(temporary) failed:","EME createSession(persistent) failed:","append","[CDM]","replace","[PR] License fetched:","1128900MKWAEB","Failed to update the session: ","27mVjKeJ","target","658644yjniiz","1084QkyGZE","616458dESVqB","expired","[WV] License fetched:","730mrDiyK","decode","update","CDM error generating license request: "];return(Je=function(){return e})()}function Ye(t){return e(this,void 0,void 0,(function*(){const e=Be;if(null===t[e(544)])throw new Error(e(511));const n=t[e(480)];if(null===n)throw new Error(e(525));const s=n.mediaKeys;if(null===s)throw new Error("No media keys for media element!");const r=Fe(new Uint8Array(t[e(544)])),i=r+n.id;let o=null;Ge.has(i)&&(o=Ge.get(i),null!=o&&o[e(495)](),Ge[e(507)](i)),De[e(502)](e(o?539:494));let a=null;try{a=s[e(519)](e(We?537:498))}catch(t){De[e(502)](e(472),t)}if(!a&&We){We=!1;try{a=s[e(519)](e(498))}catch(t){De[e(547)](e(471),t)}}if(a)if(a[e(464)](e(510),(t=>{const s=e;t[s(480)][s(538)].forEach(((e,t)=>{const r=s;(e===r(484)||"output-restricted"===e||e===r(542)||e===r(514))&&n[r(469)](new CustomEvent(r(551),{detail:{message:r(501)+Fe(new Uint8Array(t))+r(465)+(r(550)+e+")"),keyId:t}}))}))})),ze?a[e(464)]("message",je.bind(null,n),!1):-1!==r[e(549)]("edef8ba979d64acea3c827dcd51d21ed")?a[e(464)]("message",Ke[e(490)](null,n),!1):-1!==r[e(549)](e(556))?a.addEventListener(e(526),_e.bind(null,n),!1):a[e(464)]("message",Oe.bind(null,n),!1),o)try{(yield a[e(528)](o.sessionId))?Ge.set(i,a):n[e(469)](new CustomEvent(e(551),{detail:{message:e(512)}}))}catch(t){n[e(469)](new CustomEvent(e(551),{detail:{message:e(552)+t}}))}else a[e(470)](t[e(509)],t[e(544)])[e(532)]((()=>{We&&Ge[e(559)](i,a)}))[e(522)]((t=>{const s=e;n[s(469)](new CustomEvent("rtcdrmerror",{detail:{message:s(489)+t}}))}));else n[e(469)](new CustomEvent("rtcdrmerror",{detail:{message:e(467)}}))}))}const Ze=Qe;function Qe(e,t){const n=ht();return(Qe=function(e,t){return n[e-=219]})(e,t)}!function(){const e=Qe,t=ht();for(;;)try{if(817649===parseInt(e(238))/1*(-parseInt(e(304))/2)+parseInt(e(372))/3+parseInt(e(442))/4+-parseInt(e(352))/5*(-parseInt(e(329))/6)+-parseInt(e(300))/7+-parseInt(e(377))/8*(parseInt(e(246))/9)+-parseInt(e(434))/10)break;t.push(t.shift())}catch(e){t.push(t.shift())}}();const Xe=v(Ze(321)),$e=p[Ze(360)],et=p[Ze(378)],tt=p[Ze(401)],nt=p[Ze(428)],st=p.isEdge,rt=p[Ze(453)],it=p.platform,ot=p[Ze(289)],at=st||rt&&"Android"===it,ct=1e6*(tt?82:nt?220:120),ut=tt?5e3:2e3,dt=tt?1.5:.5;function ht(){const e=[" bytes","trim","SampleAuxInfo extraction failed","worker","feed","persistent-license","temporary","supportsEncodedStreams","currentTime","clear","videoCapabilities",'video/mp4; codecs="avc1.640032"',"warn","object","prLicenseUrl","createMediaKeys(","userId","kind","authToken","2973498XOeCcD","fpsCertificate","fpsLicenseUrl","keyId","DRM config robustness can only be one of: ","4359752NMQHVh","supportsRtpScriptTransform","streamType","keys","URL","fpsCertificateUrl","opus","a1d1f1","requestMediaKeySystemAccess","Several DRM configs detected, rtcDrmOnTrack have to be called with target DRM config.","prevSeqNum","length","hwSecurity","encrypted","info","/license-proxy-widevine/cenc/","Production","error","onFetch",'const e=Object.freeze({IDR0:0,IDR1:1,Broken:2}),t=[],n=[];let r=0;function o(o){return 0===t.length&&function(){t.push(new Uint8Array([0,0,0,1,39,100,0,13,172,87,5,6,100,0,0,0,1,40,238,60,176,0,0,0,1,37,184,32,0,203,255,38,29,217,24,192,161,96,0,0,12,229,174,166,6,7,20,3,84,0,247,96,193,181,229,128,0,32,32]).buffer),t.push(t[e.IDR0].slice(0)),new Uint8Array(t[e.IDR1]).set([16,0,50],27),t.push(new Uint8Array([0,0,0,1,65,154,255,255]).buffer);for(const e of t)n.push(e.slice(0))}(),function(){for(const r of Object.values(e))0===n[r].byteLength&&(n[r]=t[r].slice(0))}(),o?n[e.Broken]:(r^=1,n[r])}const a=Object.freeze({Key:0,Broken:1}),s=[],f=[];function i(e){return 0===s.length&&function(){s.push(new Uint8Array([10,11,0,0,0,4,60,254,252,255,249,128,64,50,23,16,0,156,0,0,0,176,0,0,128,1,197,121,195,220,135,144,202,149,140,242,104,176]).buffer),s.push(new Uint8Array([50,21,48,3,192,128]).buffer);for(const e of s)f.push(e.slice(0))}(),function(){for(const e of Object.values(a))0===f[e].byteLength&&(f[e]=s[e].slice(0))}(),e?f[a.Broken]:f[a.Key]}function u(e,t){postMessage({streamType:"audio",frame:{timestamp:e.timestamp,data:e.data}}),t.enqueue(e)}let c=!1,p="H264";function d(e,t){postMessage({streamType:"video",frame:{type:e.type,timestamp:e.timestamp,data:e.data}}),"key"===e.type&&(c=!1),e.data=function(e,t){return"H264"===t?o(e):i(e)}(c,p),t.enqueue(e)}self.RTCTransformEvent&&(self.onrtctransform=e=>{const t=e.transformer;!function(e,t,n){const r=new TransformStream({transform:"audio"===e?u:d});t.pipeThrough(r).pipeTo(n)}(t.options.operation,t.readable,t.writable)}),onmessage=e=>{void 0!==e.data.codec&&(p=e.data.codec),void 0!==e.data.keyFrameNeeded&&(c=e.data.keyFrameNeeded)}',"arrayBuffer","keyFrameNeededPosted","transform","timestamp","isFirefox","postMessage","2000","srcObject","mediaBufferMs should be an integer.","Default transform mode enabled, ","join","enqueue","/license-server-fairplay/cert/","Applying pre-configured certificate (","byteLength","wvCertificate","webkitURL","MSE (re)init","createObjectURL","enabled","GOP is getting too long, requesting a new key frame","Unable to create Worker!","nextKeyFrameAllowedTime","bytesSinceKey","play","x-dt-auth-token","reportDiscontinuity","serverCertificate","now","playback at ","codec","isSafari","sessionId"," is not supported (valid options are AV1 and H264).","dbgMediaDump"," frame"," requesting a new key frame (latency ","4806730piyGMS","track","createMediaKeys"," will be used","wvCertificateUrl","videoElement","message","x-dt-custom-data","4218044jfFlnk"," bytes, ","serverCertificateUrl","Invalid videoElement, it must be an instance of HTMLVideoElement.","EncodedStreams","ClearKey","com.widevine.alpha","buffered","type","buffer","Platform info:","isChrome","DRM config:","lastKeyFrameTime","streams","cbcs-1-9","then","playbackRate","', it's safer to use 'cenc' instead.","data","baseUrl"," too close to seek, ","DRM config keyId must be an instance of 16-byte long Uint8Array.","not-allowed","durationMs","robustness","video/mp4","debug","next","Worker","video","videoStartTimestamp","1141562emUadJ","licenseUrl","customTransform","logLevel","/license-server-fairplay/","3000",".. ","audioEncrypted","9LCGklb","jmuxer","ClearKey is not supported by Safari.","jitterBufferTarget"," bytes)","encryption","receiver","rtcdrmerror","name","ignoreAudio","com.microsoft.playready.recommendation","purchase","dispatchEvent","Invalid config argument type, DRM config must be an object.","). Safari only supports FairPlay.","reduce","createEncodedStreams","get","BYTES_PER_ELEMENT","playoutDelayHint","key","SW_SECURE_CRYPTO"," will not be created, use rtcDrmFeedFrame to push frames manually","DRM config encryption value must be one of: ","Error recovery attempted","audioCapabilities","slice","status","setServerCertificate",'audio/mp4; codecs="opus"',"keyFrameNeeded","keyFrameLogCntr","set","Invalid DRM type (","mediaBufferMs"," to ","POSITIVE_INFINITY","audioElement","Encoded Transform APIs are not available!","pipeThrough","h264","size",") not found in [","isWindows","keySystem","Server certificate fetch failed with error ","Widevine","setMediaKeys","GET","/license-proxy-headerauth/drmtoday/RightsManager.asmx","cenc","]: ","No target media element!","end","4755653jYDXHx","audioStartTimestamp","paused","DRM config env value must be one of: ","2HcKjZb","string","includes","PlayReady might not support '","Target video element (","RTCRtpScriptTransform","keyFrameRequestInterval","pipeTo","FairPlay","out","frame","environment",", restart required: ","seq"," - ","PlayReady license acquisition might fail without output protection enabled (sessionId is ","sai","[RTC-DRM]","PlayReady","onmessage","bind","append","jitterBufferDelayHint","toString","config","1942266VkHDCL","Duplicate/reordered frame, prev seq: ","splice","waitingForKeyFrame","org.w3.clearkey",".experiment","Blob","Video codec ","src","Invalid authToken type (",", curr: ","mediaDumps","emeConfig","audio"," seeking from ","Invalid audioElement, it must be an instance of HTMLMediaElement.","rtcDrmConfigure did not specify audioElement, audio will be dropped","indexOf","btoa","Fetched certificate from ","delimited","sessionTypes","addEventListener","25pwgnjZ"];return(ht=function(){return e})()}function lt(e){const t=Ze;return typeof e!==t(366)||null===e||e instanceof Element||e instanceof de?e:function(e){const t=Ze;return!!((null==e?void 0:e[t(451)])instanceof ArrayBuffer&&(null==e?void 0:e[t(264)]))}(e)?e[t(272)]():Array.isArray(e)?e[t(261)](((e,t,n)=>(e[n]=lt(t),e)),[]):e instanceof Object?Object[t(380)](e)[t(261)](((t,n)=>(t[n]=lt(e[n]),t)),{}):e}class ft{constructor(e){const t=Ze;this[t(444)]="",this[t(239)]="",this.keySystem="",this[t(341)]=[],this[t(328)]=lt(e),this[t(247)]=null,this[t(277)]=0,this[t(419)]=Date[t(425)](),this[t(237)]=0,this[t(301)]=0,this[t(387)]=-1,this.lastKeyFrameTime=0,this.bytesSinceKey=0,this.keyFrameNeeded=!0,this.keyFrameNeededPosted=!1,this.keyFrameRequestInterval=ut,this[t(356)]=null,this[t(431)]={video:null,audio:null}}}const pt=new Map,mt=new Uint8Array([60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60]),yt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1]),gt=new Uint8Array([213,251,214,184,46,217,62,78,249,138,228,9,49,238,51,183]);function wt(e,t){const n=Ze;void 0!==t&&(e[n(328)][n(280)]=t),(void 0===e[n(328)][n(280)]||e.config.mediaBufferMs<0)&&(e[n(328)][n(280)]=100,tt?e.config[n(280)]=900:!nt&&ot&&(e[n(328)][n(450)]===n(322)||e[n(389)])&&(e[n(328)][n(280)]=1400))}function vt(e){const t=Ze;let n=!1;if((e[t(328)].video&&e[t(328)][t(236)].encryption!==t(362)&&"HW"===e[t(328)].video[t(231)]||e[t(328)].audio&&e[t(328)][t(342)][t(251)]!==t(362)&&"HW"===e[t(328)][t(342)][t(231)])&&(n=!0),e[t(389)]=n,wt(e,e[t(328)][t(280)]),void 0===e[t(328)][t(371)]){void 0===e.config[t(369)]&&(e[t(328)][t(369)]=t(257)),void 0===e[t(328)][t(429)]&&(e.config[t(429)]=t(384));const n=window[t(347)](JSON.stringify({userId:e.config.userId,sessionId:e[t(328)][t(429)],merchant:e[t(328)].merchant}));Ve(t(441),n)}else Ve(t(422),e[t(328)].authToken);for(const n of[e[t(328)][t(342)],e[t(328)][t(236)]])n&&"clear"!==n[t(251)]&&(n[t(375)]||(n[t(375)]=yt),n.iv||(n.iv=gt));e[t(424)]=void 0,e.serverCertificateUrl="",e[t(239)]="";const s=e[t(328)].environment[t(226)]();var r;if(e[t(328)][t(450)]===t(447)?(e[t(290)]=t(333),Ne=mt):e[t(328)][t(450)]===t(292)?(e.keySystem=t(448),ot&&n&&(e[t(290)]+=t(334)),e[t(328)][t(412)]?e[t(424)]=e[t(328)][t(412)]:e.config[t(438)]?e[t(444)]=e[t(328)].wvCertificateUrl:e[t(424)]=e[t(328)][t(315)].certificate(),e[t(328)].wvLicenseUrl?e.licenseUrl=e.config.wvLicenseUrl:e[t(239)]=s+t(392)):e.config[t(450)]===t(322)?(e.keySystem=t(256),e[t(328)][t(367)]?e[t(239)]=e.config.prLicenseUrl:e[t(239)]=s+t(295)):e.config.type===t(312)&&(e[t(290)]="com.apple.fps",e.config[t(373)]?e[t(424)]=e[t(328)][t(373)]:e[t(328)][t(382)]?e[t(444)]=e[t(328)][t(382)]:e[t(444)]=s+t(409)+e.config.merchant,e.config.fpsLicenseUrl?e[t(239)]=e[t(328)][t(374)]:e[t(239)]=s+t(242)),r={licenseUrl:e.licenseUrl,onFetch:e[t(328)].onFetch},Re=r,e[t(341)]=[],"FairPlay"!==e.config.type){e[t(341)].push({initDataTypes:[t(296)],sessionTypes:["persistent-license","temporary"]});for(const n of[e.config[t(236)],e[t(328)][t(342)]])if(n&&"clear"!==n.encryption){const s=n==e[t(328)].video?t(236):"audio";let r;"Widevine"===e[t(328)][t(450)]?r="HW"===n[t(231)]?"HW_SECURE_ALL":t(267):e[t(328)][t(450)]===t(322)&&(r="HW"===n[t(231)]?t(243):t(403)),"video"===s?e[t(341)][0][t(363)]=[{contentType:t(364),encryptionScheme:n[t(251)]===t(296)?t(296):"cbcs-1-9",robustness:r||void 0}]:e[t(341)][0][t(271)]=[{contentType:t(275),encryptionScheme:n[t(251)]===t(296)?t(296):t(221),robustness:r||void 0}]}}else e[t(341)]=[{initDataTypes:["sinf"],videoCapabilities:[{contentType:t(232),robustness:""}],distinctiveIdentifier:t(229),persistentState:"not-allowed",sessionTypes:[t(359)]}];Xe[t(233)](t(454),e)}function bt(e){const t=Ze;var n,s;Xe[t(233)](t(414));let r=e[t(328)][t(439)];(!e[t(328)][t(236)]||e[t(328)].video.encryption===t(362))&&(r=e.config.audioElement),e[t(247)]=null;const i=!e.ignoreAudio&&e[t(328)][t(342)]&&"clear"!==e.config[t(342)][t(251)],o=e[t(328)][t(236)]&&e.config[t(236)][t(251)]!==t(362);e[t(420)]=0,e.keyFrameNeeded=!0,e.keyFrameNeededPosted=!1,e[t(310)]=ut,e[t(237)]=0,e[t(301)]=0,e[t(387)]=-1,e[t(219)]=0,e[t(247)]=new te({node:r,videoCodec:o?null===(n=e[t(328)][t(236)])||void 0===n?void 0:n.codec:void 0,audioCodec:i?null===(s=e.config[t(342)])||void 0===s?void 0:s.codec:void 0,fps:60,drm:e}),nt&&e[t(328)][t(439)]&&e[t(328)].videoElement[t(421)]()[t(222)]((()=>{})).catch((()=>{}))}function St(e,t){const n=Ze;0===e.videoStartTimestamp&&(e[n(237)]=t[n(400)],e.keyFrameRequestInterval=ut,e[n(419)]=Date[n(425)]()+2e3);let s=null,r=!1;if(t[n(225)][n(411)]<=8?(Xe.warn("Discarding corrupted video frame (too small)"),r=!0):(s=function(e,t,n){const s=he,r=new DataView(e[s(194)]),i=e[s(194)][s(184)]-2,o=r[s(182)](i);if(o>=i)return fe[s(197)](s(191)),null;const a=new Uint8Array(o),c=i-o;let u=c,d=0;if("H264"===n){let e=0;for(;u<i;){let t=r[s(187)](u++);e>1&&3===t&&(e=0,t=r[s(187)](u++)),0!==t?e=0:++e,a[d++]=t}}else if(n===s(200))for(;u<i;){const e=r[s(187)](u++);a[d++]=e}const h=new DataView(a.buffer);if(h[s(187)](0)>>>4!=1)return fe[s(197)](s(185)),null;const l=t===s(204)?16:0,f=l+2+6*h[s(182)](1+l);return d<1+f+2+1?(fe.error("SampleAuxInfo corrupted"),null):{sai:a[s(189)](1,1+f),data:new Uint8Array(e[s(194)],0,c),seq:h[s(182)](1+f)}}(t,e[n(328)][n(236)][n(251)],e[n(328)].video[n(427)]),!s&&(Xe[n(365)](n(355)),r=!0)),s)if(t[n(450)]===n(266))e[n(387)]=s[n(317)];else{if(-1===e[n(387)])return 0;{const i=65535;let o=s.seq-e[n(387)];if(o<-(i>>1)&&(o+=i+1),o<=0)return Xe[n(233)](n(330)+e[n(387)]+n(339)+s[n(317)]),0;o>1&&(r=t.type!==n(266),Xe[n(365)]("Frame gap: "+e[n(387)]+n(318)+s[n(317)]+n(316)+r)),e[n(387)]=s[n(317)]}}let i=0;r&&!e.jmuxer[n(332)]&&(i=-1,e[n(247)][n(423)]());const o=(t[n(400)]-e[n(237)])/9e4;return s&&e.jmuxer[n(357)]({video:s.data,videoSampleAuxInfo:s[n(320)],timestamp:o,isKeyFrame:t.type===n(266)})<0&&(i=-1,Xe[n(365)](n(270)),bt(e)),i>=0&&t[n(450)]===n(266)&&(e[n(219)]=o),i}function It(e){const t=Ze,n=e[t(328)][t(439)];if(!n||n.buffered[t(388)]<1||n[t(302)]||n[t(361)]<dt)return;const s=e[t(328)][t(280)];if(void 0===s||s<0)throw new Error("targetLatency not set!");const r=n[t(449)][t(299)](n[t(449)][t(388)]-1),i=1e3*(r-n[t(361)])|0;if(!e[t(245)]&&function(e,t,n){const s=Ze;let r;r=t<3*n>>>2?.875:t<=n?1:t<7*n>>>2?1.125:t<9*n>>>2?1.25:t<11*n>>>2?1.375:1.5,r!==e[s(223)]&&(e[s(223)]=r)}(n,i,s),!(i<s+50||i<5*s>>>2))if(e[t(219)]>n[t(361)]+.1){const i=1e3*(r-e.lastKeyFrameTime)|0;i>40&&i>s-100?(Xe.debug(S()+t(343)+(n[t(361)]+t(281)+e.lastKeyFrameTime+" (")+(e.lastKeyFrameTime-n[t(361)])+")"),n.currentTime=e[t(219)]):Xe[t(233)](S()+t(227)+i)}else!e.keyFrameNeeded&&Date.now()>e[t(419)]&&i>s+100&&i>3*s>>>1&&(Xe[t(233)](S()+t(433)+i+" ms)"),e[t(276)]=!0,e[t(310)]<16e3&&(e[t(310)]<<=1))}function Et(e,t){const n=Ze;if(!e[n(247)]||e[n(255)])return 0;0===e.audioStartTimestamp&&(e[n(301)]=t[n(400)]);const s=function(e,t){const n=he;if("cbcs"===t)return{sai:null,data:new Uint8Array(e.data)};const s=new DataView(e[n(194)]),r=e[n(194)][n(184)]-2,i=s.getUint16(r);if(i>=r)return fe[n(197)]("SampleAuxInfo is missing or corrupted (audio)"),null;const o=new Uint8Array(i),a=r-i;let c=a,u=0;for(;c<r;){const e=s[n(187)](c++);o[u++]=e}return new DataView(o[n(188)])[n(187)](0)>>>4!=1?(fe[n(197)](n(186)),null):u<18?(fe[n(197)](n(201)),null):{sai:o.subarray(1,17),data:new Uint8Array(e[n(194)],0,a)}}(t,e[n(328)][n(342)][n(251)]);if(!s)return-1;const r=(t[n(400)]-e[n(301)])/48e3;return e[n(247)][n(357)]({audio:s[n(225)],audioSampleAuxInfo:s[n(320)],timestamp:r})}function At(e,t,n){const s=Ze,r=xt(n);return e[s(450)]?Ut(r,e,t):kt(r,e,t)}function Ut(e,t,n){const s=Ze;if(e.dbgMediaDump[s(236)]){b[s(340)][s(236)].in[s(349)]&&e.dbgMediaDump[s(236)][s(325)](new Uint8Array([0,0,0,1,9,80]));const n=t[s(400)]/90;e[s(431)].video[s(325)](new Uint8Array(t.data),n)||(e[s(431)][s(236)]=null)}if(e.config[s(236)]&&e[s(328)][s(236)][s(251)]===s(362))return null==n||n.enqueue(t),!1;const r=Date.now();if(t[s(450)]===s(266)){const n=b[s(241)]>=4;++e[s(277)]<(n?Number[s(282)]:5)&&(Xe.debug(S()+" "+t.type+", "+t[s(225)].byteLength+s(443)+(s(426)+e.config[s(439)][s(361)])),n&&1===e[s(277)]&&function(e,t=64,n=64){const s=Ze,r=new Uint8Array(e[s(225)]);let i="",o=0;for(let e=0;e<t&&e<r[s(388)];++e)i+=(r[e]<16?"0":"")+r[e][s(327)](16)+" ";if(o<r.length)for(o<r[s(388)]-n&&(i+=s(244),o=r.length-n);o<r[s(388)];o++)i+=(r[o]<16?"0":"")+r[o][s(327)](16)+" ";Xe[s(391)]("["+((e[s(450)]||s(342))+s(432))+s(297)+i[s(354)]())}(t,128,8)),e[s(276)]=!1,e.bytesSinceKey=0,e[s(419)]=r+e[s(310)]}var i;return e[s(420)]+=t[s(225)].byteLength,!e[s(276)]&&e.bytesSinceKey>ct&&(Xe.info(s(417)),e[s(276)]=!0),e[s(247)]&&(St(e,t)<0?e[s(276)]=!0:It(e)),n?(!e[s(276)]||!at)&&(t[s(225)]=(i=e.keyFrameNeeded,e[s(328)][s(236)][s(427)]===me(324)?be(i):ke(i)),n[s(408)](t)):e[s(276)]!==e[s(398)]&&(e[s(356)]&&e[s(356)][s(402)]({keyFrameNeeded:e[s(276)]}),e.keyFrameNeededPosted=e[s(276)]),e[s(276)]}function kt(e,t,n){const s=Ze;if(e[s(431)][s(342)]){const n=t[s(400)]/48;e.dbgMediaDump[s(342)][s(325)](new Uint8Array(t.data),n)||(e.dbgMediaDump[s(342)]=null)}return e[s(328)][s(342)]&&"clear"!==e.config.audio[s(251)]?t.data[s(411)]>0&&Et(e,t):n&&n[s(408)](t),!1}function Tt(t){const n=Ze;var s,r,i,o,a;if(!t||"object"!=typeof t)throw new TypeError(n(259));if(!(t[n(439)]instanceof HTMLVideoElement))throw new TypeError(n(445));if(t[n(283)]&&!(t[n(283)]instanceof HTMLMediaElement))throw new TypeError(n(344));if(void 0!==t[n(280)]&&!Number.isInteger(t[n(280)]))throw new TypeError("DRM config mediaBufferMs should be an integer.");void 0!==t.logLevel&&(b[n(241)]=t.logLevel),Xe.debug(n(452),p);let c=!1,u=!1,d=!1;const h=["cbcs",n(296),n(362)],l=["SW","HW"];for(const e of[t[n(236)],t[n(342)]])if(e){if(!h[n(306)](e[n(251)]))throw new RangeError(n(269)+h[n(407)](", "));if(nt&&e[n(251)]===n(296))throw new RangeError("Safari doesn't support 'cenc'/AES-CTR, use 'cbcs' instead if possible.");if(e[n(251)]!==n(362)){if(u=!0,e.keyId){if(!(e[n(375)]instanceof Uint8Array)||16!==e.keyId[n(388)])throw new TypeError(n(228));d=!0}else if(nt)throw new ReferenceError(n(248));if(e.iv&&(!(e.iv instanceof Uint8Array)||16!==e.iv[n(388)]))throw new TypeError("DRM config iv must be an instance of 16-byte long Uint8Array.");if(e[n(231)]&&!l[n(306)](e.robustness))throw new RangeError(n(376)+l.join(", "));if(e===t[n(236)]&&"H264"!==e[n(427)]&&"AV1"!==e[n(427)])throw new RangeError(n(336)+e[n(427)]+n(430));nt&&e===t[n(342)]&&e[n(427)]===n(383)&&(c=!0,Xe[n(365)]("Safari does not support Opus, audio will not be rendered.")),t[n(450)]===n(322)&&(e[n(251)]!==n(296)&&Xe.warn(n(307)+e[n(251)]+n(224)),void 0===t[n(429)]||t[n(429)][n(306)]("f1")||Xe[n(365)](n(319)+t[n(429)]+", a1d1f1 is recommended)."))}}if(u){if(!$e&&!et)throw new Error(n(284));const e=[de.Development,de.Staging,de[n(393)]];if(!e[n(306)](t[n(315)]))throw new RangeError(n(303)+e.join(", "));if(t.authToken&&typeof t[n(371)]!==n(305))throw new TypeError(n(338)+typeof t[n(371)]+"). It has to be a string containing a JWT.");if(t[n(450)])if(nt){if(t[n(450)]!==n(312))throw new RangeError(n(279)+t.type+n(260))}else if(rt){if(t[n(450)]!==n(292)&&t[n(450)]!==n(447))throw new RangeError(n(279)+t[n(450)]+"). Chrome only supports Widevine and ClearKey.")}else if(st&&t[n(450)]!==n(322)&&t[n(450)]!==n(292)&&t[n(450)]!==n(447))throw new RangeError(n(279)+t[n(450)]+"). Edge only supports PlayReady, Widevine and ClearKey.")}if(void 0!==t[n(340)]){if(t.mediaDumps[n(236)]){const e=t.mediaDumps[n(236)],o=b[n(340)][n(236)];(null===(s=e.in)||void 0===s?void 0:s.durationMs)&&(o.in[n(230)]=e.in.durationMs),(null===(r=e.in)||void 0===r?void 0:r[n(349)])&&(o.in.delimited=e.in[n(349)]),(null===(i=e[n(313)])||void 0===i?void 0:i[n(230)])&&(o[n(313)].durationMs=e[n(313)][n(230)])}if(t.mediaDumps[n(342)]){const e=t[n(340)].audio,s=b.mediaDumps[n(342)];(null===(o=e.in)||void 0===o?void 0:o[n(230)])&&(s.in[n(230)]=e.in.durationMs),(null===(a=e[n(313)])||void 0===a?void 0:a.durationMs)&&(s[n(313)][n(230)]=e[n(313)][n(230)])}}let f=pt[n(263)](t[n(439)]);!f&&(f=new ft(t),pt[n(278)](t[n(439)],f)),f[n(416)]=u,f[n(255)]=c,f.audioEncrypted=!c&&f[n(328)][n(342)]&&"clear"!==f[n(328)][n(342)][n(251)],u&&(f[n(328)].type||(f[n(328)][n(450)]=n(nt?312:292)),d||f[n(328)][n(450)]===n(447)||(f[n(328)][n(450)]=n(447)),vt(f),function(t){e(this,void 0,void 0,(function*(){const e=Qe;var n,s;let r=t[e(328)].videoElement;if((!t[e(328)][e(236)]||t.config[e(236)][e(251)]===e(362))&&(r=t[e(328)][e(283)]),!r)throw new Error(e(298));r[e(337)]="",r[e(404)]=null,yield r[e(293)](null);let i=null;try{i=yield navigator[e(385)](t[e(290)],t[e(341)])}catch(e){}if(!i&&t[e(341)][0]){const r=null===(n=t[e(341)][0][e(350)])||void 0===n?void 0:n[e(346)](e(358));if(void 0!==r&&r>=0){null===(s=t[e(341)][0][e(350)])||void 0===s||s[e(331)](r,1);try{i=yield navigator[e(385)](t[e(290)],t[e(341)])}catch(e){}}}if(!i){const n="requestMediaKeySystemAccess("+t.keySystem+") failed";return r.dispatchEvent(new CustomEvent(e(253),{detail:{message:n}})),void Xe[e(394)](n)}let o=null;try{o=yield i[e(436)]()}catch(e){}if(!o){const n=e(368)+t[e(290)]+") failed";return r[e(258)](new CustomEvent(e(253),{detail:{message:n}})),void Xe[e(394)](n)}if(t[e(424)])Xe[e(233)](e(410)+t[e(424)][e(411)]+e(250)),yield o[e(274)](t[e(424)]);else if(t.serverCertificateUrl){const n={method:e(294)},s=t.serverCertificateUrl;try{const i=yield t[e(328)][e(395)]?t[e(328)].onFetch(s,n):fetch(s,n);if(!i.ok){const t=e(291)+i[e(273)];return void r[e(258)](new CustomEvent(e(253),{detail:{message:t}}))}const a=yield i[e(397)]();Xe[e(233)](e(348)+s+", "+a[e(411)]+e(353)),yield o[e(274)](a)}catch(t){const n=t[e(254)]+": "+t[e(440)];return Xe[e(394)](n),void r.dispatchEvent(new CustomEvent(e(253),{detail:{message:n}}))}}yield r[e(293)](o),r[e(351)](e(390),Ye),bt(t)}))}(f)),f[n(328)][n(439)][n(351)](n(421),(function(){const e=n;f[e(328)][e(439)][e(361)]>.5&&(f.nextKeyFrameAllowedTime=Date[e(425)]())}))}function Dt(e,t){const n=Ze;let s=null;try{s=xt(e)}catch(e){Xe[n(365)](e)}if(!Number.isInteger(t))throw new TypeError(n(405));s&&wt(s,t)}const Rt=Ze(396);function xt(e){const t=Ze;if(0===pt.size)throw new TypeError("No valid DRM config found, call rtcDrmConfigure first.");let n;if(e&&e[t(439)])n=e.videoElement;else{if(1!==pt[t(287)])throw new TypeError(t(386));n=pt[t(380)]()[t(234)]().value}const s=pt[t(263)](n);if(!s){let e="";throw pt.forEach(((t,n)=>{e+=n.id+", "})),e=e[t(272)](0,-2),new TypeError(t(308)+n.id+t(288)+e+"]")}return s}function Mt(e,t){const n=Ze;if(e&&e[n(328)].videoElement){const s=e.config[n(439)];if(s[n(449)][n(388)]>0){const e=s[n(449)].end(s[n(449)][n(388)]-1)-s[n(361)];t[n(265)]=t.jitterBufferDelayHint=t.jitterBufferTarget=e}setTimeout(Mt,1e3,e,t)}}function Ct(e,t){const n=Ze;var s,r,i;const o=e[n(435)][n(370)];"video"===o&&(e[n(252)][n(265)]=e[n(252)][n(326)]=e[n(252)][n(249)]=0);const a=xt(t),c=a.config.videoElement,u=a[n(328)][n(283)];if(a[n(416)]){const t=""+n($e?446:309);if(a[n(328)][n(240)])Xe.debug(t+n(268));else{if(Xe.debug(n(406)+t+n(437)),o===n(236)){const e=b[n(340)][n(236)].in.durationMs;e>0&&(a[n(431)][n(236)]=new E("video",n(286),e))}else if("audio"===o){const e=b.mediaDumps[n(342)].in[n(230)];e>0&&(a[n(431)].audio=new E("audio",n(383),e))}if($e){const t=o===n(236)?Ut:kt,s={drm:a,transform:(e,n)=>{t(a,e,n)}},r=e[n(252)][n(262)](),i=new TransformStream({transform:s[n(399)][n(324)](s)}),{readable:c,writable:u}=r;c[n(285)](i)[n(311)](u)}else if(et){if(a[n(356)]=function(e){const t=Ze,n=window[t(381)]||window[t(413)],s=window[t(335)],r=window[t(235)];if(!(n&&s&&r&&e))return null;const i=new s([e]);return new r(n[t(415)](i))}(Rt),null==a[n(356)])throw new Error(n(418));a[n(356)][n(402)]({codec:null===(s=a.config[n(236)])||void 0===s?void 0:s.codec}),a.worker[n(323)]=e=>{const t=n;e[t(225)][t(379)]===t(236)?Ut(a,e[t(225)][t(314)],null):kt(a,e[t(225)].frame,null)},e.receiver.transform=new RTCRtpScriptTransform(a[n(356)],{operation:o})}}if(o===n(342)&&(null===(r=a[n(328)].audio)||void 0===r?void 0:r[n(251)])===n(362)){if(!u)return void Xe[n(365)](n(345));u[n(404)]!==e[n(220)][0]&&(u[n(404)]=e.streams[0]),a[n(328)][n(439)]&&(e[n(252)].playoutDelayHint=e.receiver[n(326)]=e[n(252)][n(249)]=a[n(328)].mediaBufferMs,Mt(a,e.receiver))}else o===n(236)&&(null===(i=a[n(328)].video)||void 0===i?void 0:i[n(251)])===n(362)&&c[n(404)]!==e.streams[0]&&(c.srcObject=e[n(220)][0])}else c[n(404)]!==e.streams[0]&&(c[n(404)]=e[n(220)][0])}export{Tt as rtcDrmConfigure,de as rtcDrmEnvironments,At as rtcDrmFeedFrame,re as rtcDrmGetVersion,Ct as rtcDrmOnTrack,Dt as rtcDrmSetBufferSize};
